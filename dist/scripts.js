/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.5 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */
var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){!n&&hasProp(e,i)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,n,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,a,o,s,c,u,l,f,p,d,h,m=n&&n.split("/"),v=S.map,g=v&&v["*"];if(e&&(e=e.split("/"),u=e.length-1,S.nodeIdCompat&&jsSuffixRegExp.test(e[u])&&(e[u]=e[u].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&m&&(h=m.slice(0,m.length-1),e=h.concat(e)),t(e),e=e.join("/")),r&&v&&(m||g)){a=e.split("/");e:for(o=a.length;o>0;o-=1){if(c=a.slice(0,o).join("/"),m)for(s=m.length;s>0;s-=1)if((i=getOwn(v,m.slice(0,s).join("/")))&&(i=getOwn(i,c))){l=i,f=o;break e}!p&&g&&getOwn(g,c)&&(p=getOwn(g,c),d=o)}!l&&p&&(l=p,f=d),l&&(a.splice(0,f,l),e=a.join("/"))}return getOwn(S.pkgs,e)||e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName)return t.parentNode.removeChild(t),!0})}function i(e){var t=getOwn(S.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0}function a(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function o(e,t,r,i){var o,s,c,u,l=null,f=t?t.name:null,p=e,d=!0,h="";return e||(d=!1,e="_@r"+(N+=1)),u=a(e),l=u[0],e=u[1],l&&(l=n(l,f,i),s=getOwn(O,l)),e&&(l?h=r?e:s&&s.normalize?s.normalize(e,function(e){return n(e,f,i)}):-1===e.indexOf("!")?n(e,f,i):e:(h=n(e,f,i),u=a(h),l=u[0],h=u[1],r=!0,o=w.nameToUrl(h))),c=!l||s||r?"":"_unnormalized"+(L+=1),{prefix:l,name:h,parentMap:t,unnormalized:!!c,url:o,originalName:p,isDefine:d,id:(l?l+"!"+h:h)+c}}function s(e){var t=e.id,n=getOwn(_,t);return n||(n=_[t]=new w.Module(e)),n}function c(e,t,n){var r=e.id,i=getOwn(_,r);!hasProp(O,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(O[r])}function u(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(_,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function l(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(w.defQueueMap[t]=!0),R.push(e)}),globalDefQueue=[])}function f(e){delete _[e],delete E[e]}function p(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var a=r.id,o=getOwn(_,a);!o||e.depMatched[i]||n[a]||(getOwn(t,a)?(e.defineDep(i,O[a]),e.check()):p(o,t,n))}),n[r]=!0)}function d(){var e,t,n=1e3*S.waitSeconds,a=n&&w.startTime+n<(new Date).getTime(),o=[],s=[],c=!1,l=!0;if(!b){if(b=!0,eachProp(E,function(e){var n=e.map,u=n.id;if(e.enabled&&(n.isDefine||s.push(e),!e.error))if(!e.inited&&a)i(u)?(t=!0,c=!0):(o.push(u),r(u));else if(!e.inited&&e.fetched&&n.isDefine&&(c=!0,!n.prefix))return l=!1}),a&&o.length)return e=makeError("timeout","Load timeout for modules: "+o,null,o),e.contextName=w.contextName,u(e);l&&each(s,function(e){p(e,{},{})}),a&&!t||!c||!isBrowser&&!isWebWorker||k||(k=setTimeout(function(){k=0,d()},50)),b=!1}}function h(e){hasProp(O,e[0])||s(o(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function v(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function g(){var e;for(l();R.length;){if(e=R.shift(),null===e[0])return u(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}w.defQueueMap={}}var b,y,w,x,k,S={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},_={},E={},C={},R=[],O={},T={},A={},N=1,L=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?O[e.map.id]=e.exports:e.exports=O[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(S.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},y=function(e){this.events=getOwn(C,e.id)||{},this.map=e,this.shim=getOwn(S.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;T[e]||(T[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=w.execCb(n,a,r,i)}catch(t){e=t}else i=w.execCb(n,a,r,i);if(this.map.isDefine&&void 0===i&&(t=this.module,t?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",u(this.error=e)}else i=a;if(this.exports=i,this.map.isDefine&&!this.ignore&&(O[n]=i,req.onResourceLoad)){var o=[];each(this.depMaps,function(e){o.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,o)}f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=o(e.prefix);this.depMaps.push(r),c(r,"defined",bind(this,function(r){var i,a,l,p=getOwn(A,this.map.id),d=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(d=r.normalize(d,function(e){return n(e,h,!0)})||""),a=o(e.prefix+"!"+d,this.map.parentMap,!0),c(a,"defined",bind(this,function(e){this.map.normalizedMap=a,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((l=getOwn(_,a.id))&&(this.depMaps.push(a),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()))):p?(this.map.url=w.nameToUrl(p),void this.load()):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(_,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),u(e)}),i.fromText=bind(this,function(n,r){var a=e.name,c=o(a),l=useInteractive;r&&(n=r),l&&(useInteractive=!1),s(c),hasProp(S.config,t)&&(S.config[a]=S.config[t]);try{req.exec(n)}catch(e){return u(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}l&&(useInteractive=!0),this.depMaps.push(c),w.completeLoad(a),m([a],i)}),void r.load(e.name,m,i,S))})),w.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){E[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(x,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?c(e,"error",bind(this,this.errback)):this.events.error&&c(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=_[n],hasProp(x,n)||!r||r.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(_,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:S,contextName:e,registry:_,defined:O,urlFetched:T,defQueue:R,defQueueMap:{},Module:y,makeModuleMap:o,nextTick:req.nextTick,onError:u,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=S.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(S[t]||(S[t]={}),mixin(S[t],e,!0,!0)):S[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(A[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),S.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(S.paths[n]=e.location),S.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(_,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function a(n,r,c){var l,f,p;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?u(makeError("requireargs","Invalid require call"),c):t&&hasProp(x,n)?x[n](_[t.id]):req.get?req.get(w,n,t,a):(f=o(n,t,!1,!0),l=f.id,hasProp(O,l)?O[l]:u(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(g(),w.nextTick(function(){g(),p=s(o(null,t)),p.skipMap=i.skipMap,p.init(n,r,c,{enabled:!0}),d()}),a)}return i=i||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),a=e.split("/")[0],o="."===a||".."===a;return-1!==i&&(!o||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(O,o(e,t,!1,!0).id)},specified:function(e){return e=o(e,t,!1,!0).id,hasProp(O,e)||hasProp(_,e)}}),t||(a.undef=function(e){l();var n=o(e,t,!0),i=getOwn(_,e);i.undefed=!0,r(e),delete O[e],delete T[n.url],delete C[e],eachReverse(R,function(t,n){t[0]===e&&R.splice(n,1)}),delete w.defQueueMap[e],i&&(i.events.defined&&(C[e]=i.events),f(e))}),a},enable:function(e){getOwn(_,e.id)&&s(e).enable()},completeLoad:function(e){var t,n,r,a=getOwn(S.shim,e)||{},o=a.exports;for(l();R.length;){if(n=R.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(w.defQueueMap={},r=getOwn(_,e),!t&&!hasProp(O,e)&&r&&!r.inited){if(!(!S.enforceDefine||o&&getGlobal(o)))return i(e)?void 0:u(makeError("nodefine","No define call for "+e,null,[e]));h([e,a.deps||[],a.exportsFn])}d()},nameToUrl:function(e,t,n){var r,i,a,o,s,c,u,l=getOwn(S.pkgs,e);if(l&&(e=l),u=getOwn(A,e))return w.nameToUrl(u,t,n);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(r=S.paths,i=e.split("/"),a=i.length;a>0;a-=1)if(o=i.slice(0,a).join("/"),c=getOwn(r,o)){isArray(c)&&(c=c[0]),i.splice(0,a,c);break}s=i.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||n?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":S.baseUrl)+s}return S.urlArgs&&!/^blob\:/.test(s)?s+S.urlArgs(e,s):s},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=v(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=v(e);if(!i(t.id)){var n=[];return eachProp(_,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(r),!0})}),u(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=r):e=[]),a&&a.context&&(o=a.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),a&&i.configure(a),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,i.onNodeCreated&&i.onNodeCreated(r,i,t,n),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,r,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("requireLib",function(){}),/*!
 * Knockout JavaScript library v3.4.2
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
function(){!function(e){var t=this||(0,eval)("this"),n=t.document,r=t.navigator,i=t.jQuery,a=t.JSON;!function(e){"function"==typeof define&&define.amd?define("knockout",["exports","require"],e):e("object"==typeof exports&&"object"==typeof module?module.exports||exports:t.ko={})}(function(o,s){function c(e,t){return(null===e||typeof e in v)&&e===t}function u(t,n){var r;return function(){r||(r=m.a.setTimeout(function(){r=e,t()},n))}}function l(e,t){var n;return function(){clearTimeout(n),n=m.a.setTimeout(e,t)}}function f(e,t){t&&t!==g?"beforeChange"===t?this.Ob(e):this.Ja(e,t):this.Pb(e)}function p(e,t){null!==t&&t.k&&t.k()}function d(e,t){var n=this.Mc,r=n[k];r.T||(this.ob&&this.Oa[t]?(n.Sb(t,e,this.Oa[t]),this.Oa[t]=null,--this.ob):r.s[t]||n.Sb(t,e,r.t?{$:e}:n.yc(e)),e.Ha&&e.Hc())}function h(e,t,n,r){m.d[e]={init:function(e,i,a,o,s){var c,u;return m.m(function(){var a=i(),o=m.a.c(a),o=!n!=!o,l=!u;(l||t||o!==c)&&(l&&m.xa.Ca()&&(u=m.a.wa(m.f.childNodes(e),!0)),o?(l||m.f.fa(e,m.a.wa(u)),m.hb(r?r(s,a):s,e)):m.f.za(e),c=o)},null,{i:e}),{controlsDescendantBindings:!0}}},m.h.va[e]=!1,m.f.aa[e]=!0}var m=void 0!==o?o:{};m.b=function(e,t){for(var n=e.split("."),r=m,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},m.H=function(e,t,n){e[t]=n},m.version="3.4.2",m.b("version",m.version),m.options={deferUpdates:!1,useOnlyNativeEvents:!1},m.a=function(){function o(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function s(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e,t){return e.__proto__=t,e}function u(e,t,n,r){var i=e[t].match(g)||[];m.a.r(n.match(g),function(e){m.a.ra(i,e,r)}),e[t]=i.join(" ")}var l={__proto__:[]}instanceof Array,f="function"==typeof Symbol,p={},d={};p[r&&/Firefox\/2/i.test(r.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(p,function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)d[t[n]]=e});var h={propertychange:!0},v=n&&function(){for(var t=3,r=n.createElement("div"),i=r.getElementsByTagName("i");r.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];);return 4<t?t:e}(),g=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},o:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Vb:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r))return e[r];return null},Na:function(e,t){var n=m.a.o(e,t);0<n?e.splice(n,1):0===n&&e.shift()},Wb:function(e){e=e||[];for(var t=[],n=0,r=e.length;n<r;n++)0>m.a.o(t,e[n])&&t.push(e[n]);return t},ib:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r],r));return n},Ma:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)t(e[r],r)&&n.push(e[r]);return n},ta:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},ra:function(e,t,n){var r=m.a.o(m.a.Bb(e),t);0>r?n&&e.push(t):n||e.splice(r,1)},la:l,extend:s,$a:c,ab:l?c:s,D:o,Ea:function(e,t){if(!e)return e;var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n],n,e));return r},rb:function(e){for(;e.firstChild;)m.removeNode(e.firstChild)},nc:function(e){e=m.a.W(e);for(var t=(e[0]&&e[0].ownerDocument||n).createElement("div"),r=0,i=e.length;r<i;r++)t.appendChild(m.ba(e[r]));return t},wa:function(e,t){for(var n=0,r=e.length,i=[];n<r;n++){var a=e[n].cloneNode(!0);i.push(t?m.ba(a):a)}return i},fa:function(e,t){if(m.a.rb(e),t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},uc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var r=n[0],i=r.parentNode,a=0,o=t.length;a<o;a++)i.insertBefore(t[a],r);for(a=0,o=n.length;a<o;a++)m.removeNode(n[a])}},Ba:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e},wc:function(e,t){7>v?e.setAttribute("selected",t):e.selected=t},cb:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},Rc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},qb:function(e){return m.a.Rc(e,e.ownerDocument.documentElement)},Tb:function(e){return!!m.a.Vb(e,m.a.qb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Zb:function(e){return m.onError?function(){try{return e.apply(this,arguments)}catch(e){throw m.onError&&m.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(m.a.Zb(e),t)},dc:function(e){setTimeout(function(){throw m.onError&&m.onError(e),e},0)},q:function(e,t,n){var r=m.a.Zb(n);if(n=v&&h[t],m.options.useOnlyNativeEvents||n||!i)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var a=function(t){r.call(e,t)},o="on"+t;e.attachEvent(o,a),m.a.G.qa(e,function(){e.detachEvent(o,a)})}else e.addEventListener(t,r,!1);else i(e).bind(t,r)},Fa:function(e,r){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var a;if("input"===m.a.A(e)&&e.type&&"click"==r.toLowerCase()?(a=e.type,a="checkbox"==a||"radio"==a):a=!1,m.options.useOnlyNativeEvents||!i||a)if("function"==typeof n.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");a=n.createEvent(d[r]||"HTMLEvents"),a.initEvent(r,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(a)}else if(a&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+r)}else i(e).trigger(r)},c:function(e){return m.I(e)?e():e},Bb:function(e){return m.I(e)?e.p():e},fb:function(e,t,n){var r;t&&("object"==typeof e.classList?(r=e.classList[n?"add":"remove"],m.a.r(t.match(g),function(t){r.call(e.classList,t)})):"string"==typeof e.className.baseVal?u(e.className,"baseVal",t,n):u(e,"className",t,n))},bb:function(t,n){var r=m.a.c(n);null!==r&&r!==e||(r="");var i=m.f.firstChild(t);!i||3!=i.nodeType||m.f.nextSibling(i)?m.f.fa(t,[t.ownerDocument.createTextNode(r)]):i.data=r,m.a.Wc(t)},vc:function(e,t){if(e.name=t,7>=v)try{e.mergeAttributes(n.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Wc:function(e){9<=v&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},Sc:function(e){if(v){var t=e.style.width;e.style.width=0,e.style.width=t}},nd:function(e,t){e=m.a.c(e),t=m.a.c(t);for(var n=[],r=e;r<=t;r++)n.push(r);return n},W:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},bc:function(e){return f?Symbol(e):e},xd:6===v,yd:7===v,C:v,ic:function(e,t){for(var n=m.a.W(e.getElementsByTagName("input")).concat(m.a.W(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],a=n.length-1;0<=a;a--)r(n[a])&&i.push(n[a]);return i},kd:function(e){return"string"==typeof e&&(e=m.a.cb(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},Gb:function(e,t,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(m.a.c(e),t,n)},ld:function(e,t,r){r=r||{};var i=r.params||{},a=r.includeFields||this.gc,s=e;if("object"==typeof e&&"form"===m.a.A(e))for(var s=e.action,c=a.length-1;0<=c;c--)for(var u=m.a.ic(e,a[c]),l=u.length-1;0<=l;l--)i[u[l].name]=u[l].value;t=m.a.c(t);var f=n.createElement("form");f.style.display="none",f.action=s,f.method="post";for(var p in t)e=n.createElement("input"),e.type="hidden",e.name=p,e.value=m.a.Gb(m.a.c(t[p])),f.appendChild(e);o(i,function(e,t){var r=n.createElement("input");r.type="hidden",r.name=e,r.value=t,f.appendChild(r)}),n.body.appendChild(f),r.submitter?r.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),m.b("utils",m.a),m.b("utils.arrayForEach",m.a.r),m.b("utils.arrayFirst",m.a.Vb),m.b("utils.arrayFilter",m.a.Ma),m.b("utils.arrayGetDistinctValues",m.a.Wb),m.b("utils.arrayIndexOf",m.a.o),m.b("utils.arrayMap",m.a.ib),m.b("utils.arrayPushAll",m.a.ta),m.b("utils.arrayRemoveItem",m.a.Na),m.b("utils.extend",m.a.extend),m.b("utils.fieldsIncludedWithJsonPost",m.a.gc),m.b("utils.getFormFields",m.a.ic),m.b("utils.peekObservable",m.a.Bb),m.b("utils.postJson",m.a.ld),m.b("utils.parseJson",m.a.kd),m.b("utils.registerEventHandler",m.a.q),m.b("utils.stringifyJson",m.a.Gb),m.b("utils.range",m.a.nd),m.b("utils.toggleDomNodeCssClass",m.a.fb),m.b("utils.triggerEvent",m.a.Fa),m.b("utils.unwrapObservable",m.a.c),m.b("utils.objectForEach",m.a.D),m.b("utils.addOrRemoveItem",m.a.ra),m.b("utils.setTextContent",m.a.bb),m.b("unwrap",m.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),t.apply(e,r)}}),m.a.e=new function(){function t(t,a){var o=t[r];if(!o||"null"===o||!i[o]){if(!a)return e;o=t[r]="ko"+n++,i[o]={}}return i[o]}var n=0,r="__ko__"+(new Date).getTime(),i={};return{get:function(n,r){var i=t(n,!1);return i===e?e:i[r]},set:function(n,r,i){i===e&&t(n,!1)===e||(t(n,!0)[r]=i)},clear:function(e){var t=e[r];return!!t&&(delete i[t],e[r]=null,!0)},J:function(){return n+++r}}},m.b("utils.domData",m.a.e),m.b("utils.domData.clear",m.a.e.clear),m.a.G=new function(){function t(t,n){var i=m.a.e.get(t,r);return i===e&&n&&(i=[],m.a.e.set(t,r,i)),i}function n(e){var r=t(e,!1);if(r)for(var r=r.slice(0),i=0;i<r.length;i++)r[i](e);if(m.a.e.clear(e),m.a.G.cleanExternalData(e),o[e.nodeType])for(r=e.firstChild;e=r;)r=e.nextSibling,8===e.nodeType&&n(e)}var r=m.a.e.J(),a={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{qa:function(e,n){if("function"!=typeof n)throw Error("Callback must be a function");t(e,!0).push(n)},tc:function(n,i){var a=t(n,!1);a&&(m.a.Na(a,i),0==a.length&&m.a.e.set(n,r,e))},ba:function(e){if(a[e.nodeType]&&(n(e),o[e.nodeType])){var t=[];m.a.ta(t,e.getElementsByTagName("*"));for(var r=0,i=t.length;r<i;r++)n(t[r])}return e},removeNode:function(e){m.ba(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){i&&"function"==typeof i.cleanData&&i.cleanData([e])}}},m.ba=m.a.G.ba,m.removeNode=m.a.G.removeNode,m.b("cleanNode",m.ba),m.b("removeNode",m.removeNode),m.b("utils.domNodeDisposal",m.a.G),m.b("utils.domNodeDisposal.addDisposeCallback",m.a.G.qa),m.b("utils.domNodeDisposal.removeDisposeCallback",m.a.G.tc),function(){var r=[0,"",""],a=[1,"<table>","</table>"],o=[3,"<table><tbody><tr>","</tr></tbody></table>"],s=[1,"<select multiple='multiple'>","</select>"],c={thead:a,tbody:a,tfoot:a,tr:[2,"<table><tbody>","</tbody></table>"],td:o,th:o,option:s,optgroup:s},u=8>=m.a.C;m.a.na=function(e,a){var o;if(i){if(i.parseHTML)o=i.parseHTML(e,a)||[];else if((o=i.clean([e],a))&&o[0]){for(var s=o[0];s.parentNode&&11!==s.parentNode.nodeType;)s=s.parentNode;s.parentNode&&s.parentNode.removeChild(s)}}else{(o=a)||(o=n);var l,s=o.parentWindow||o.defaultView||t,f=m.a.cb(e).toLowerCase(),p=o.createElement("div");for(l=(f=f.match(/^<([a-z]+)[ >]/))&&c[f[1]]||r,f=l[0],l="ignored<div>"+l[1]+e+l[2]+"</div>","function"==typeof s.innerShiv?p.appendChild(s.innerShiv(l)):(u&&o.appendChild(p),p.innerHTML=l,u&&p.parentNode.removeChild(p));f--;)p=p.lastChild;o=m.a.W(p.lastChild.childNodes)}return o},m.a.Eb=function(t,n){if(m.a.rb(t),null!==(n=m.a.c(n))&&n!==e)if("string"!=typeof n&&(n=n.toString()),i)i(t).html(n);else for(var r=m.a.na(n,t.ownerDocument),a=0;a<r.length;a++)t.appendChild(r[a])}}(),m.b("utils.parseHtmlFragment",m.a.na),m.b("utils.setHtml",m.a.Eb),m.N=function(){function t(e,n){if(e)if(8==e.nodeType){var r=m.N.pc(e.nodeValue);null!=r&&n.push({Qc:e,hd:r})}else if(1==e.nodeType)for(var r=0,i=e.childNodes,a=i.length;r<a;r++)t(i[r],n)}var n={};return{yb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Bc:function(t,r){var i=n[t];if(i===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return i.apply(null,r||[]),!0}finally{delete n[t]}},Cc:function(e,n){var r=[];t(e,r);for(var i=0,a=r.length;i<a;i++){var o=r[i].Qc,s=[o];n&&m.a.ta(s,n),m.N.Bc(r[i].hd,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},pc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),m.b("memoization",m.N),m.b("memoization.memoize",m.N.yb),m.b("memoization.unmemoize",m.N.Bc),m.b("memoization.parseMemoText",m.N.pc),m.b("memoization.unmemoizeDomNodeAndDescendants",m.N.Cc),m.Z=function(){function e(){if(a)for(var e,t=a,n=0;s<a;)if(e=i[s++]){if(s>t){if(5e3<=++n){s=a,m.a.dc(Error("'Too much recursion' after processing "+n+" task groups."));break}t=a}try{e()}catch(e){m.a.dc(e)}}}function r(){e(),s=a=i.length=0}var i=[],a=0,o=1,s=0;return{scheduler:t.MutationObserver?function(e){var t=n.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(r):n&&"onreadystatechange"in n.createElement("script")?function(e){var t=n.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,n.documentElement.removeChild(t),t=null,e()},n.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},Za:function(e){return a||m.Z.scheduler(r),i[a++]=e,o++},cancel:function(e){(e-=o-a)>=s&&e<a&&(i[e]=null)},resetForTesting:function(){var e=a-s;return s=a=i.length=0,e},rd:e}}(),m.b("tasks",m.Z),m.b("tasks.schedule",m.Z.Za),m.b("tasks.runEarly",m.Z.rd),m.Aa={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return m.B({read:e,write:function(r){clearTimeout(n),n=m.a.setTimeout(function(){e(r)},t)}})},rateLimit:function(e,t){var n,r,i;"number"==typeof t?n=t:(n=t.timeout,r=t.method),e.gb=!1,i="notifyWhenChangesStop"==r?l:u,e.Wa(function(e){return i(e,n)})},deferred:function(t,n){if(!0!==n)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t.gb||(t.gb=!0,t.Wa(function(n){var r,i=!1;return function(){if(!i){m.Z.cancel(r),r=m.Z.Za(n);try{i=!0,t.notifySubscribers(e,"dirty")}finally{i=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:c}};var v={undefined:1,boolean:1,number:1,string:1};m.b("extenders",m.Aa),m.zc=function(e,t,n){this.$=e,this.jb=t,this.Pc=n,this.T=!1,m.H(this,"dispose",this.k)},m.zc.prototype.k=function(){this.T=!0,this.Pc()},m.K=function(){m.a.ab(this,b),b.ub(this)};var g="change",b={ub:function(e){e.F={change:[]},e.Qb=1},Y:function(e,t,n){var r=this;n=n||g;var i=new m.zc(r,t?e.bind(t):e,function(){m.a.Na(r.F[n],i),r.Ka&&r.Ka(n)});return r.ua&&r.ua(n),r.F[n]||(r.F[n]=[]),r.F[n].push(i),i},notifySubscribers:function(e,t){if(t=t||g,t===g&&this.Kb(),this.Ra(t)){var n=t===g&&this.Fc||this.F[t].slice(0);try{m.l.Xb();for(var r,i=0;r=n[i];++i)r.T||r.jb(e)}finally{m.l.end()}}},Pa:function(){return this.Qb},Zc:function(e){return this.Pa()!==e},Kb:function(){++this.Qb},Wa:function(e){var t,n,r,i,a=this,o=m.I(a);a.Ja||(a.Ja=a.notifySubscribers,a.notifySubscribers=f);var s=e(function(){a.Ha=!1,o&&i===a&&(i=a.Mb?a.Mb():a());var e=n||a.Ua(r,i);n=t=!1,e&&a.Ja(r=i)});a.Pb=function(e){a.Fc=a.F[g].slice(0),a.Ha=t=!0,i=e,s()},a.Ob=function(e){t||(r=e,a.Ja(e,"beforeChange"))},a.Hc=function(){a.Ua(r,a.p(!0))&&(n=!0)}},Ra:function(e){return this.F[e]&&this.F[e].length},Xc:function(e){if(e)return this.F[e]&&this.F[e].length||0;var t=0;return m.a.D(this.F,function(e,n){"dirty"!==e&&(t+=n.length)}),t},Ua:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&m.a.D(e,function(e,n){var r=m.Aa[e];"function"==typeof r&&(t=r(t,n)||t)}),t}};m.H(b,"subscribe",b.Y),m.H(b,"extend",b.extend),m.H(b,"getSubscriptionsCount",b.Xc),m.a.la&&m.a.$a(b,Function.prototype),m.K.fn=b,m.lc=function(e){return null!=e&&"function"==typeof e.Y&&"function"==typeof e.notifySubscribers},m.b("subscribable",m.K),m.b("isSubscribable",m.lc),m.xa=m.l=function(){function e(e){r.push(n),n=e}function t(){n=r.pop()}var n,r=[],i=0;return{Xb:e,end:t,sc:function(e){if(n){if(!m.lc(e))throw Error("Only subscribable things can act as dependencies");n.jb.call(n.Lc,e,e.Gc||(e.Gc=++i))}},w:function(n,r,i){try{return e(),n.apply(r,i||[])}finally{t()}},Ca:function(){if(n)return n.m.Ca()},Va:function(){if(n)return n.Va}}}(),m.b("computedContext",m.xa),m.b("computedContext.getDependenciesCount",m.xa.Ca),m.b("computedContext.isInitial",m.xa.Va),m.b("ignoreDependencies",m.wd=m.l.w);var y=m.a.bc("_latestValue");m.O=function(e){function t(){return 0<arguments.length?(t.Ua(t[y],arguments[0])&&(t.ia(),t[y]=arguments[0],t.ha()),this):(m.l.sc(t),t[y])}return t[y]=e,m.a.la||m.a.extend(t,m.K.fn),m.K.fn.ub(t),m.a.ab(t,w),m.options.deferUpdates&&m.Aa.deferred(t,!0),t};var w={equalityComparer:c,p:function(){return this[y]},ha:function(){this.notifySubscribers(this[y])},ia:function(){this.notifySubscribers(this[y],"beforeChange")}};m.a.la&&m.a.$a(w,m.K.fn);var x=m.O.md="__ko_proto__";w[x]=m.O,m.Qa=function(t,n){return null!==t&&t!==e&&t[x]!==e&&(t[x]===n||m.Qa(t[x],n))},m.I=function(e){return m.Qa(e,m.O)},m.Da=function(e){return!!("function"==typeof e&&e[x]===m.O||"function"==typeof e&&e[x]===m.B&&e.$c)},m.b("observable",m.O),m.b("isObservable",m.I),m.b("isWriteableObservable",m.Da),m.b("isWritableObservable",m.Da),m.b("observable.fn",w),m.H(w,"peek",w.p),m.H(w,"valueHasMutated",w.ha),m.H(w,"valueWillMutate",w.ia),m.ma=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=m.O(e),m.a.ab(e,m.ma.fn),e.extend({trackArrayChanges:!0})},m.ma.fn={remove:function(e){for(var t=this.p(),n=[],r="function"!=typeof e||m.I(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var a=t[i];r(a)&&(0===n.length&&this.ia(),n.push(a),t.splice(i,1),i--)}return n.length&&this.ha(),n},removeAll:function(t){if(t===e){var n=this.p(),r=n.slice(0);return this.ia(),n.splice(0,n.length),this.ha(),r}return t?this.remove(function(e){return 0<=m.a.o(t,e)}):[]},destroy:function(e){var t=this.p(),n="function"!=typeof e||m.I(e)?function(t){return t===e}:e;this.ia();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=!0);this.ha()},destroyAll:function(t){return t===e?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=m.a.o(t,e)}):[]},indexOf:function(e){var t=this();return m.a.o(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ia(),this.p()[n]=t,this.ha())}},m.a.la&&m.a.$a(m.ma.fn,m.O.fn),m.a.r("pop push reverse shift sort splice unshift".split(" "),function(e){m.ma.fn[e]=function(){var t=this.p();this.ia(),this.Yb(t,e,arguments);var n=t[e].apply(t,arguments);return this.ha(),n===t?this:n}}),m.a.r(["slice"],function(e){m.ma.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),m.b("observableArray",m.ma),m.Aa.trackArrayChanges=function(t,n){function r(){if(!o){o=!0,a=t.notifySubscribers,t.notifySubscribers=function(e,t){return t&&t!==g||++c,a.apply(this,arguments)};var e=[].concat(t.p()||[]);s=null,i=t.Y(function(n){if(n=[].concat(n||[]),t.Ra("arrayChange")){var r;(!s||1<c)&&(s=m.a.lb(e,n,t.kb)),r=s}e=n,s=null,c=0,r&&r.length&&t.notifySubscribers(r,"arrayChange")})}}if(t.kb={},n&&"object"==typeof n&&m.a.extend(t.kb,n),t.kb.sparse=!0,!t.Yb){var i,a,o=!1,s=null,c=0,u=t.ua,l=t.Ka;t.ua=function(e){u&&u.call(t,e),"arrayChange"===e&&r()},t.Ka=function(n){l&&l.call(t,n),"arrayChange"!==n||t.Ra("arrayChange")||(a&&(t.notifySubscribers=a,a=e),i.k(),o=!1)},t.Yb=function(e,t,n){function r(e,t,n){return i[i.length]={status:e,value:t,index:n}}if(o&&!c){var i=[],a=e.length,u=n.length,l=0;switch(t){case"push":l=a;case"unshift":for(t=0;t<u;t++)r("added",n[t],l+t);break;case"pop":l=a-1;case"shift":a&&r("deleted",e[l],l);break;case"splice":t=Math.min(Math.max(0,0>n[0]?a+n[0]:n[0]),a);for(var a=1===u?a:Math.min(t+(n[1]||0),a),u=t+u-2,l=Math.max(a,u),f=[],p=[],d=2;t<l;++t,++d)t<a&&p.push(r("deleted",e[t],t)),t<u&&f.push(r("added",n[d],t));m.a.hc(p,f);break;default:return}s=i}}}};var k=m.a.bc("_state");m.m=m.B=function(t,n,r){function i(){if(0<arguments.length){if("function"!=typeof a)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return a.apply(o.sb,arguments),this}return m.l.sc(i),(o.V||o.t&&i.Sa())&&i.U(),o.M}if("object"==typeof t?r=t:(r=r||{},t&&(r.read=t)),"function"!=typeof r.read)throw Error("Pass a function that returns the value of the ko.computed");var a=r.write,o={M:e,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:r.read,sb:n||r.owner,i:r.disposeWhenNodeIsRemoved||r.i||null,ya:r.disposeWhen||r.ya,pb:null,s:{},L:0,fc:null};return i[k]=o,i.$c="function"==typeof a,m.a.la||m.a.extend(i,m.K.fn),m.K.fn.ub(i),m.a.ab(i,S),r.pure?(o.Ya=!0,o.t=!0,m.a.extend(i,_)):r.deferEvaluation&&m.a.extend(i,E),m.options.deferUpdates&&m.Aa.deferred(i,!0),o.i&&(o.Hb=!0,o.i.nodeType||(o.i=null)),o.t||r.deferEvaluation||i.U(),o.i&&i.ca()&&m.a.G.qa(o.i,o.pb=function(){i.k()}),i};var S={equalityComparer:c,Ca:function(){return this[k].L},Sb:function(e,t,n){if(this[k].Ya&&t===this)throw Error("A 'pure' computed must not be called recursively");this[k].s[e]=n,n.Ia=this[k].L++,n.pa=t.Pa()},Sa:function(){var e,t,n=this[k].s;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e],this.oa&&t.$.Ha||t.$.Zc(t.pa)))return!0},gd:function(){this.oa&&!this[k].Ta&&this.oa(!1)},ca:function(){var e=this[k];return e.V||0<e.L},qd:function(){this.Ha?this[k].V&&(this[k].da=!0):this.ec()},yc:function(e){if(e.gb&&!this[k].i){var t=e.Y(this.gd,this,"dirty"),n=e.Y(this.qd,this);return{$:e,k:function(){t.k(),n.k()}}}return e.Y(this.ec,this)},ec:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[k].fc),this[k].fc=m.a.setTimeout(function(){e.U(!0)},t)):e.oa?e.oa(!0):e.U(!0)},U:function(e){var t=this[k],n=t.ya,r=!1;if(!t.Ta&&!t.T){if(t.i&&!m.a.qb(t.i)||n&&n()){if(!t.Hb)return void this.k()}else t.Hb=!1;t.Ta=!0;try{r=this.Vc(e)}finally{t.Ta=!1}return t.L||this.k(),r}},Vc:function(t){var n=this[k],r=!1,i=n.Ya?e:!n.L,a={Mc:this,Oa:n.s,ob:n.L};return m.l.Xb({Lc:a,jb:d,m:this,Va:i}),n.s={},n.L=0,a=this.Uc(n,a),this.Ua(n.M,a)&&(n.t||this.notifySubscribers(n.M,"beforeChange"),n.M=a,n.t?this.Kb():t&&this.notifySubscribers(n.M),r=!0),i&&this.notifySubscribers(n.M,"awake"),r},Uc:function(e,t){try{var n=e.od;return e.sb?n.call(e.sb):n()}finally{m.l.end(),t.ob&&!e.t&&m.a.D(t.Oa,p),e.da=e.V=!1}},p:function(e){var t=this[k];return(t.V&&(e||!t.L)||t.t&&this.Sa())&&this.U(),t.M},Wa:function(e){m.K.fn.Wa.call(this,e),this.Mb=function(){return this[k].da?this.U():this[k].V=!1,this[k].M},this.oa=function(e){this.Ob(this[k].M),this[k].V=!0,e&&(this[k].da=!0),this.Pb(this)}},k:function(){var e=this[k];!e.t&&e.s&&m.a.D(e.s,function(e,t){t.k&&t.k()}),e.i&&e.pb&&m.a.G.tc(e.i,e.pb),e.s=null,e.L=0,e.T=!0,e.da=!1,e.V=!1,e.t=!1,e.i=null}},_={ua:function(e){var t=this,n=t[k];if(!n.T&&n.t&&"change"==e){if(n.t=!1,n.da||t.Sa())n.s=null,n.L=0,t.U()&&t.Kb();else{var r=[];m.a.D(n.s,function(e,t){r[t.Ia]=e}),m.a.r(r,function(e,r){var i=n.s[e],a=t.yc(i.$);a.Ia=r,a.pa=i.pa,n.s[e]=a})}n.T||t.notifySubscribers(n.M,"awake")}},Ka:function(t){var n=this[k];n.T||"change"!=t||this.Ra("change")||(m.a.D(n.s,function(e,t){t.k&&(n.s[e]={$:t.$,Ia:t.Ia,pa:t.pa},t.k())}),n.t=!0,this.notifySubscribers(e,"asleep"))},Pa:function(){var e=this[k];return e.t&&(e.da||this.Sa())&&this.U(),m.K.fn.Pa.call(this)}},E={ua:function(e){"change"!=e&&"beforeChange"!=e||this.p()}};m.a.la&&m.a.$a(S,m.K.fn);var C=m.O.md;m.m[C]=m.O,S[C]=m.m,m.bd=function(e){return m.Qa(e,m.m)},m.cd=function(e){return m.Qa(e,m.m)&&e[k]&&e[k].Ya},m.b("computed",m.m),m.b("dependentObservable",m.m),m.b("isComputed",m.bd),m.b("isPureComputed",m.cd),m.b("computed.fn",S),m.H(S,"peek",S.p),m.H(S,"dispose",S.k),m.H(S,"isActive",S.ca),m.H(S,"getDependenciesCount",S.Ca),m.rc=function(e,t){return"function"==typeof e?m.m(e,t,{pure:!0}):(e=m.a.extend({},e),e.pure=!0,m.m(e,t))},m.b("pureComputed",m.rc),function(){function t(i,a,o){if(o=o||new r,"object"!=typeof(i=a(i))||null===i||i===e||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var s=i instanceof Array?[]:{};return o.save(i,s),n(i,function(n){var r=a(i[n]);switch(typeof r){case"boolean":case"number":case"string":case"function":s[n]=r;break;case"object":case"undefined":var c=o.get(r);s[n]=c!==e?c:t(r,a,o)}}),s}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function r(){this.keys=[],this.Lb=[]}m.Ac=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(e){for(var t=0;m.I(e)&&10>t;t++)e=e();return e})},m.toJSON=function(e,t,n){return e=m.Ac(e),m.a.Gb(e,t,n)},r.prototype={save:function(e,t){var n=m.a.o(this.keys,e);0<=n?this.Lb[n]=t:(this.keys.push(e),this.Lb.push(t))},get:function(t){return t=m.a.o(this.keys,t),0<=t?this.Lb[t]:e}}}(),m.b("toJS",m.Ac),m.b("toJSON",m.toJSON),function(){m.j={u:function(t){switch(m.a.A(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?m.a.e.get(t,m.d.options.zb):7>=m.a.C?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?m.j.u(t.options[t.selectedIndex]):e;default:return t.value}},ja:function(t,n,r){switch(m.a.A(t)){case"option":switch(typeof n){case"string":m.a.e.set(t,m.d.options.zb,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=n;break;default:m.a.e.set(t,m.d.options.zb,n),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof n?n:""}break;case"select":""!==n&&null!==n||(n=e);for(var i,a=-1,o=0,s=t.options.length;o<s;++o)if((i=m.j.u(t.options[o]))==n||""==i&&n===e){a=o;break}(r||0<=a||n===e&&1<t.size)&&(t.selectedIndex=a);break;default:null!==n&&n!==e||(n=""),t.value=n}}}}(),m.b("selectExtensions",m.j),m.b("selectExtensions.readValue",m.j.u),m.b("selectExtensions.writeValue",m.j.ja),m.h=function(){function e(e){e=m.a.cb(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],o=e.match(r),s=[],c=0;if(o){o.push(",");for(var u,l=0;u=o[l];++l){var f=u.charCodeAt(0);if(44===f){if(0>=c){n.push(t&&s.length?{key:t,value:s.join("")}:{unknown:t||s.join("")}),t=c=0,s=[];continue}}else if(58===f){if(!c&&!t&&1===s.length){t=s.pop();continue}}else 47===f&&l&&1<u.length?(f=o[l-1].match(i))&&!a[f[0]]&&(e=e.substr(e.indexOf(u)+1),o=e.match(r),o.push(","),l=-1,u="/"):40===f||123===f||91===f?++c:41===f||125===f||93===f?--c:t||s.length||34!==f&&39!==f||(u=u.slice(1,-1));s.push(u)}}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,a={in:1,return:1,typeof:1},o={};return{va:[],ga:o,Ab:e,Xa:function(r,i){function a(e,r){var i;if(!l){var f=m.getBindingHandler(e);if(f&&f.preprocess&&!(r=f.preprocess(r,e,a)))return;(f=o[e])&&(i=r,0<=m.a.o(t,i)?i=!1:(f=i.match(n),i=null!==f&&(f[1]?"Object("+f[1]+")"+f[2]:i)),f=i),f&&c.push("'"+e+"':function(_z){"+i+"=_z}")}u&&(r="function(){return "+r+" }"),s.push("'"+e+"':"+r)}i=i||{};var s=[],c=[],u=i.valueAccessors,l=i.bindingParams,f="string"==typeof r?e(r):r;return m.a.r(f,function(e){a(e.key||e.unknown,e.value)}),c.length&&a("_ko_property_writers","{"+c.join(",")+" }"),s.join(",")},fd:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},Ga:function(e,t,n,r,i){e&&m.I(e)?!m.Da(e)||i&&e.p()===r||e(r):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](r)}}}(),m.b("expressionRewriting",m.h),m.b("expressionRewriting.bindingRewriteValidators",m.h.va),m.b("expressionRewriting.parseObjectLiteral",m.h.Ab),m.b("expressionRewriting.preProcessBindings",m.h.Xa),m.b("expressionRewriting._twoWayBindings",m.h.ga),m.b("jsonExpressionRewriting",m.h),m.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",m.h.Xa),function(){function e(e){return 8==e.nodeType&&o.test(a?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&s.test(a?e.text:e.nodeValue)}function r(n,r){for(var i=n,a=1,o=[];i=i.nextSibling;){if(t(i)&&0===--a)return o;o.push(i),e(i)&&a++}if(!r)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var n=r(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}var a=n&&"\x3c!--test--\x3e"===n.createComment("test").text,o=a?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=a?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0};m.f={aa:{},childNodes:function(t){return e(t)?r(t):t.childNodes},za:function(t){if(e(t)){t=m.f.childNodes(t);for(var n=0,r=t.length;n<r;n++)m.removeNode(t[n])}else m.a.rb(t)},fa:function(t,n){if(e(t)){m.f.za(t);for(var r=t.nextSibling,i=0,a=n.length;i<a;i++)r.parentNode.insertBefore(n[i],r)}else m.a.fa(t,n)},qc:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},kc:function(t,n,r){r?e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):m.f.qc(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},Yc:e,vd:function(e){return(e=(a?e.text:e.nodeValue).match(o))?e[1]:null},oc:function(n){if(c[m.a.A(n)]){var r=n.firstChild;if(r)do{if(1===r.nodeType){var a;a=r.firstChild;var o=null;if(a)do{if(o)o.push(a);else if(e(a)){var s=i(a,!0);s?a=s:o=[a]}else t(a)&&(o=[a])}while(a=a.nextSibling);if(a=o)for(o=r.nextSibling,s=0;s<a.length;s++)o?n.insertBefore(a[s],o):n.appendChild(a[s])}}while(r=r.nextSibling)}}}}(),m.b("virtualElements",m.f),m.b("virtualElements.allowedBindings",m.f.aa),m.b("virtualElements.emptyNode",m.f.za),m.b("virtualElements.insertAfter",m.f.kc),m.b("virtualElements.prepend",m.f.qc),m.b("virtualElements.setDomNodeChildren",m.f.fa),function(){m.S=function(){this.Kc={}},m.a.extend(m.S.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||m.g.getComponentNameForNode(e);case 8:return m.f.Yc(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e):null;return m.g.Rb(n,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return m.g.Rb(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return m.f.vd(e);default:return null}},parseBindingsString:function(e,t,n,r){try{var i,a=this.Kc,o=e+(r&&r.valueAccessors||"");if(!(i=a[o])){var s,c="with($context){with($data||{}){return{"+m.h.Xa(e,r)+"}}}";s=new Function("$context","$element",c),i=a[o]=s}return i(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),m.S.instance=new m.S}(),m.b("bindingProvider",m.S),function(){function n(e){return function(){return e}}function r(e){return e()}function a(e){
return m.a.Ea(m.l.w(e),function(t,n){return function(){return e()[n]}})}function o(e,t,r){return"function"==typeof e?a(e.bind(null,t,r)):m.a.Ea(e,n)}function s(e,t){return a(this.getBindings.bind(this,e,t))}function c(e,t,n){var r,i=m.f.firstChild(t),a=m.S.instance,o=a.preprocessNode;if(o){for(;r=i;)i=m.f.nextSibling(r),o.call(a,r);i=m.f.firstChild(t)}for(;r=i;)i=m.f.nextSibling(r),u(e,r,n)}function u(e,t,n){var r=!0,i=1===t.nodeType;i&&m.f.oc(t),(i&&n||m.S.instance.nodeHasBindings(t))&&(r=f(t,null,e,n).shouldBindDescendants),r&&!d[m.a.A(t)]&&c(e,t,!i)}function l(e){var t=[],n={},r=[];return m.a.D(e,function i(a){if(!n[a]){var o=m.getBindingHandler(a);o&&(o.after&&(r.push(a),m.a.r(o.after,function(t){if(e[t]){if(-1!==m.a.o(r,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(t)}}),r.length--),t.push({key:a,jc:o})),n[a]=!0}}),t}function f(t,n,i,a){var o=m.a.e.get(t,h);if(!n){if(o)throw Error("You cannot apply bindings multiple times to the same element.");m.a.e.set(t,h,!0)}!o&&a&&m.xc(t,i);var c;if(n&&"function"!=typeof n)c=n;else{var u=m.S.instance,f=u.getBindingAccessors||s,p=m.B(function(){return(c=n?n(i,t):f.call(u,t,i))&&i.Q&&i.Q(),c},null,{i:t});c&&p.ca()||(p=null)}var d;if(c){var v=p?function(e){return function(){return r(p()[e])}}:function(e){return c[e]},g=function(){return m.a.Ea(p?p():c,r)};g.get=function(e){return c[e]&&r(v(e))},g.has=function(e){return e in c},a=l(c),m.a.r(a,function(n){var r=n.jc.init,a=n.jc.update,o=n.key;if(8===t.nodeType&&!m.f.aa[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof r&&m.l.w(function(){var n=r(t,v(o),g,i.$data,i);if(n&&n.controlsDescendantBindings){if(d!==e)throw Error("Multiple bindings ("+d+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=o}}),"function"==typeof a&&m.B(function(){a(t,v(o),g,i.$data,i)},null,{i:t})}catch(e){throw e.message='Unable to process binding "'+o+": "+c[o]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:d===e}}function p(e){return e&&e instanceof m.R?e:new m.R(e)}m.d={};var d={script:!0,textarea:!0,template:!0};m.getBindingHandler=function(e){return m.d[e]},m.R=function(t,n,r,i,a){function o(){var e=f?t():t,a=m.a.c(e);return n?(n.Q&&n.Q(),m.a.extend(l,n),l.Q=u):(l.$parents=[],l.$root=a,l.ko=m),l.$rawData=e,l.$data=a,r&&(l[r]=a),i&&i(l,n,a),l.$data}function s(){return c&&!m.a.Tb(c)}var c,u,l=this,f="function"==typeof t&&!m.I(t);a&&a.exportDependencies?o():(u=m.B(o,null,{ya:s,i:!0}),u.ca()&&(l.Q=u,u.equalityComparer=null,c=[],u.Dc=function(t){c.push(t),m.a.G.qa(t,function(t){m.a.Na(c,t),c.length||(u.k(),l.Q=u=e)})}))},m.R.prototype.createChildContext=function(e,t,n,r){return new m.R(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)},r)},m.R.prototype.extend=function(e){return new m.R(this.Q||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,m.a.extend(t,"function"==typeof e?e():e)})},m.R.prototype.ac=function(e,t){return this.createChildContext(e,t,null,{exportDependencies:!0})};var h=m.a.e.J(),v=m.a.e.J();m.xc=function(e,t){if(2!=arguments.length)return m.a.e.get(e,v);m.a.e.set(e,v,t),t.Q&&t.Q.Dc(e)},m.La=function(e,t,n){return 1===e.nodeType&&m.f.oc(e),f(e,t,p(n),!0)},m.Ic=function(e,t,n){return n=p(n),m.La(e,o(t,n,e),n)},m.hb=function(e,t){1!==t.nodeType&&8!==t.nodeType||c(p(e),t,!0)},m.Ub=function(e,n){if(!i&&t.jQuery&&(i=t.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||t.document.body,u(p(e),n,!0)},m.nb=function(t){switch(t.nodeType){case 1:case 8:var n=m.xc(t);if(n)return n;if(t.parentNode)return m.nb(t.parentNode)}return e},m.Oc=function(t){return(t=m.nb(t))?t.$data:e},m.b("bindingHandlers",m.d),m.b("applyBindings",m.Ub),m.b("applyBindingsToDescendants",m.hb),m.b("applyBindingAccessorsToNode",m.La),m.b("applyBindingsToNode",m.Ic),m.b("contextFor",m.nb),m.b("dataFor",m.Oc)}(),function(e){function t(t,r){var o,s=i.hasOwnProperty(t)?i[t]:e;s?s.Y(r):(s=i[t]=new m.K,s.Y(r),n(t,function(e,n){var r=!(!n||!n.synchronous);a[t]={definition:e,dd:r},delete i[t],o||r?s.notifySubscribers(e):m.Z.Za(function(){s.notifySubscribers(e)})}),o=!0)}function n(e,t){r("getConfig",[e],function(n){n?r("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function r(t,n,i,a){a||(a=m.g.loaders.slice(0));var o=a.shift();if(o){var s=o[t];if(s){var c=!1;if(s.apply(o,n.concat(function(e){c?i(null):null!==e?i(e):r(t,n,i,a)}))!==e&&(c=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(t,n,i,a)}else i(null)}var i={},a={};m.g={get:function(n,r){var i=a.hasOwnProperty(n)?a[n]:e;i?i.dd?m.l.w(function(){r(i.definition)}):m.Z.Za(function(){r(i.definition)}):t(n,r)},$b:function(e){delete a[e]},Nb:r},m.g.loaders=[],m.b("components",m.g),m.b("components.get",m.g.get),m.b("components.clearCachedDefinition",m.g.$b)}(),function(){function e(e,t,n,r){function i(){0==--s&&r(a)}var a={},s=2,c=n.template;n=n.viewModel,c?o(t,c,function(t){m.g.Nb("loadTemplate",[e,t],function(e){a.template=e,i()})}):i(),n?o(t,n,function(t){m.g.Nb("loadViewModel",[e,t],function(e){a[l]=e,i()})}):i()}function r(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[l])n(t[l]);else if("instance"in t){var i=t.instance;n(function(){return i})}else"viewModel"in t?r(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function i(e){switch(m.a.A(e)){case"script":return m.a.na(e.text);case"textarea":return m.a.na(e.value);case"template":if(a(e.content))return m.a.wa(e.content.childNodes)}return m.a.wa(e.childNodes)}function a(e){return t.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,n,r){"string"==typeof n.require?s||t.require?(s||t.require)([n.require],r):e("Uses require, but no AMD loader is present"):r(n)}function c(e){return function(t){throw Error("Component '"+e+"': "+t)}}var u={};m.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(m.g.wb(e))throw Error("Component "+e+" is already registered");u[e]=t},m.g.wb=function(e){return u.hasOwnProperty(e)},m.g.ud=function(e){delete u[e],m.g.$b(e)},m.g.cc={getConfig:function(e,t){t(u.hasOwnProperty(e)?u[e]:null)},loadComponent:function(t,n,r){var i=c(t);o(i,n,function(n){e(t,i,n,r)})},loadTemplate:function(e,r,o){if(e=c(e),"string"==typeof r)o(m.a.na(r));else if(r instanceof Array)o(r);else if(a(r))o(m.a.W(r.childNodes));else if(r.element)if(r=r.element,t.HTMLElement?r instanceof HTMLElement:r&&r.tagName&&1===r.nodeType)o(i(r));else if("string"==typeof r){var s=n.getElementById(r);s?o(i(s)):e("Cannot find element with ID "+r)}else e("Unknown element type: "+r);else e("Unknown template value: "+r)},loadViewModel:function(e,t,n){r(c(e),t,n)}};var l="createViewModel";m.b("components.register",m.g.register),m.b("components.isRegistered",m.g.wb),m.b("components.unregister",m.g.ud),m.b("components.defaultLoader",m.g.cc),m.g.loaders.push(m.g.cc),m.g.Ec=u}(),function(){function e(e,n){var r=e.getAttribute("params");if(r){var r=t.parseBindingsString(r,n,e,{valueAccessors:!0,bindingParams:!0}),r=m.a.Ea(r,function(t){return m.m(t,null,{i:e})}),i=m.a.Ea(r,function(t){var n=t.p();return t.ca()?m.m({read:function(){return m.a.c(t())},write:m.Da(n)&&function(e){t()(e)},i:e}):n});return i.hasOwnProperty("$raw")||(i.$raw=r),i}return{$raw:{}}}m.g.getComponentNameForNode=function(e){var t=m.a.A(e);if(m.g.wb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=m.a.C&&e.tagName===t))return t},m.g.Rb=function(t,n,r,i){if(1===n.nodeType){var a=m.g.getComponentNameForNode(n);if(a){if(t=t||{},t.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:a,params:e(n,r)};t.component=i?function(){return o}:o}}return t};var t=new m.S;9>m.a.C&&(m.g.register=function(e){return function(t){return n.createElement(t),e.apply(this,arguments)}}(m.g.register),n.createDocumentFragment=function(e){return function(){var t,n=e(),r=m.g.Ec;for(t in r)r.hasOwnProperty(t)&&n.createElement(t);return n}}(n.createDocumentFragment))}(),function(e){function t(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=m.a.wa(t),m.f.fa(n,e)}function n(e,t,n,r){var i=e.createViewModel;return i?i.call(e,r,{element:t,templateNodes:n}):r}var r=0;m.d.component={init:function(e,i,a,o,s){function c(){var e=u&&u.dispose;"function"==typeof e&&e.call(u),l=u=null}var u,l,f=m.a.W(m.f.childNodes(e));return m.a.G.qa(e,c),m.m(function(){var a,o,p=m.a.c(i());if("string"==typeof p?a=p:(a=m.a.c(p.name),o=m.a.c(p.params)),!a)throw Error("No component name specified");var d=l=++r;m.g.get(a,function(r){if(l===d){if(c(),!r)throw Error("Unknown component '"+a+"'");t(a,r,e);var i=n(r,e,f,o);r=s.createChildContext(i,void 0,function(e){e.$component=i,e.$componentTemplateNodes=f}),u=i,m.hb(r,e)}})},null,{i:e}),{controlsDescendantBindings:!0}}},m.f.aa.component=!0}();var R={class:"className",for:"htmlFor"};m.d.attr={update:function(t,n){var r=m.a.c(n())||{};m.a.D(r,function(n,r){r=m.a.c(r);var i=!1===r||null===r||r===e;i&&t.removeAttribute(n),8>=m.a.C&&n in R?(n=R[n],i?t.removeAttribute(n):t[n]=r):i||t.setAttribute(n,r.toString()),"name"===n&&m.a.vc(t,i?"":r.toString())})}},function(){m.d.checked={after:["value","attr"],init:function(t,n,r){function i(){var e=t.checked,i=d?o():e;if(!m.xa.Va()&&(!c||e)){var a=m.l.w(n);if(l){var s=f?a.p():a;p!==i?(e&&(m.a.ra(s,i,!0),m.a.ra(s,p,!1)),p=i):m.a.ra(s,i,e),f&&m.Da(a)&&a(s)}else m.h.Ga(a,r,"checked",i,!0)}}function a(){var e=m.a.c(n());t.checked=l?0<=m.a.o(e,o()):s?e:o()===e}var o=m.rc(function(){return r.has("checkedValue")?m.a.c(r.get("checkedValue")):r.has("value")?m.a.c(r.get("value")):t.value}),s="checkbox"==t.type,c="radio"==t.type;if(s||c){var u=n(),l=s&&m.a.c(u)instanceof Array,f=!(l&&u.push&&u.splice),p=l?o():e,d=c||l;c&&!t.name&&m.d.uniqueName.init(t,function(){return!0}),m.m(i,null,{i:t}),m.a.q(t,"click",i),m.m(a,null,{i:t}),u=e}}},m.h.ga.checked=!0,m.d.checkedValue={update:function(e,t){e.value=m.a.c(t())}}}(),m.d.css={update:function(e,t){var n=m.a.c(t());null!==n&&"object"==typeof n?m.a.D(n,function(t,n){n=m.a.c(n),m.a.fb(e,t,n)}):(n=m.a.cb(String(n||"")),m.a.fb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,m.a.fb(e,n,!0))}},m.d.enable={update:function(e,t){var n=m.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},m.d.disable={update:function(e,t){m.d.enable.update(e,function(){return!m.a.c(t())})}},m.d.event={init:function(e,t,n,r,i){var a=t()||{};m.a.D(a,function(a){"string"==typeof a&&m.a.q(e,a,function(e){var o,s=t()[a];if(s){try{var c=m.a.W(arguments);r=i.$data,c.unshift(r),o=s.apply(r,c)}finally{!0!==o&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(a+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},m.d.foreach={mc:function(e){return function(){var t=e(),n=m.a.Bb(t);return n&&"number"!=typeof n.length?(m.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:m.X.vb}):{foreach:t,templateEngine:m.X.vb}}},init:function(e,t){return m.d.template.init(e,m.d.foreach.mc(t))},update:function(e,t,n,r,i){return m.d.template.update(e,m.d.foreach.mc(t),n,r,i)}},m.h.va.foreach=!1,m.f.aa.foreach=!0,m.d.hasfocus={init:function(e,t,n){function r(r){e.__ko_hasfocusUpdating=!0;var i=e.ownerDocument;if("activeElement"in i){var a;try{a=i.activeElement}catch(e){a=i.body}r=a===e}i=t(),m.h.Ga(i,n,"hasfocus",r,!0),e.__ko_hasfocusLastValue=r,e.__ko_hasfocusUpdating=!1}var i=r.bind(null,!0),a=r.bind(null,!1);m.a.q(e,"focus",i),m.a.q(e,"focusin",i),m.a.q(e,"blur",a),m.a.q(e,"focusout",a)},update:function(e,t){var n=!!m.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),m.l.w(m.a.Fa,null,[e,n?"focusin":"focusout"]))}},m.h.ga.hasfocus=!0,m.d.hasFocus=m.d.hasfocus,m.h.ga.hasFocus=!0,m.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.a.Eb(e,t())}},h("if"),h("ifnot",!1,!0),h("with",!0,!1,function(e,t){return e.ac(t)});var O={};m.d.options={init:function(e){if("select"!==m.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,n,r){function i(){return m.a.Ma(t.options,function(e){return e.selected})}function a(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function o(e,n){if(h&&l)m.j.ja(t,m.a.c(r.get("value")),!0);else if(d.length){var i=0<=m.a.o(d,m.j.u(n[0]));m.a.wc(n[0],i),h&&!i&&m.l.w(m.a.Fa,null,[t,"change"])}}var s=t.multiple,c=0!=t.length&&s?t.scrollTop:null,u=m.a.c(n()),l=r.get("valueAllowUnset")&&r.has("value"),f=r.get("optionsIncludeDestroyed");n={};var p,d=[];l||(s?d=m.a.ib(i(),m.j.u):0<=t.selectedIndex&&d.push(m.j.u(t.options[t.selectedIndex]))),u&&(void 0===u.length&&(u=[u]),p=m.a.Ma(u,function(t){return f||t===e||null===t||!m.a.c(t._destroy)}),r.has("optionsCaption")&&null!==(u=m.a.c(r.get("optionsCaption")))&&u!==e&&p.unshift(O));var h=!1;n.beforeRemove=function(e){t.removeChild(e)},u=o,r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(u=function(t,n){o(0,n),m.l.w(r.get("optionsAfterRender"),null,[n[0],t!==O?t:e])}),m.a.Db(t,p,function(n,i,o){return o.length&&(d=!l&&o[0].selected?[m.j.u(o[0])]:[],h=!0),i=t.ownerDocument.createElement("option"),n===O?(m.a.bb(i,r.get("optionsCaption")),m.j.ja(i,e)):(o=a(n,r.get("optionsValue"),n),m.j.ja(i,m.a.c(o)),n=a(n,r.get("optionsText"),o),m.a.bb(i,n)),[i]},n,u),m.l.w(function(){l?m.j.ja(t,m.a.c(r.get("value")),!0):(s?d.length&&i().length<d.length:d.length&&0<=t.selectedIndex?m.j.u(t.options[t.selectedIndex])!==d[0]:d.length||0<=t.selectedIndex)&&m.a.Fa(t,"change")}),m.a.Sc(t),c&&20<Math.abs(c-t.scrollTop)&&(t.scrollTop=c)}},m.d.options.zb=m.a.e.J(),m.d.selectedOptions={after:["options","foreach"],init:function(e,t,n){m.a.q(e,"change",function(){var r=t(),i=[];m.a.r(e.getElementsByTagName("option"),function(e){e.selected&&i.push(m.j.u(e))}),m.h.Ga(r,n,"selectedOptions",i)})},update:function(e,t){if("select"!=m.a.A(e))throw Error("values binding applies only to SELECT elements");var n=m.a.c(t()),r=e.scrollTop;n&&"number"==typeof n.length&&m.a.r(e.getElementsByTagName("option"),function(e){var t=0<=m.a.o(n,m.j.u(e));e.selected!=t&&m.a.wc(e,t)}),e.scrollTop=r}},m.h.ga.selectedOptions=!0,m.d.style={update:function(t,n){var r=m.a.c(n()||{});m.a.D(r,function(n,r){r=m.a.c(r),null!==r&&r!==e&&!1!==r||(r=""),t.style[n]=r})}},m.d.submit={init:function(e,t,n,r,i){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");m.a.q(e,"submit",function(n){var r,a=t();try{r=a.call(i.$data,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},m.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.a.bb(e,t())}},m.f.aa.text=!0,function(){if(t&&t.navigator)var n=function(e){if(e)return parseFloat(e[1])},r=t.opera&&t.opera.version&&parseInt(t.opera.version()),i=t.navigator.userAgent,a=n(i.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=n(i.match(/Firefox\/([^ ]*)/));if(10>m.a.C)var s=m.a.e.J(),c=m.a.e.J(),u=function(e){var t=this.activeElement;(t=t&&m.a.e.get(t,c))&&t(e)},l=function(e,t){var n=e.ownerDocument;m.a.e.get(n,s)||(m.a.e.set(n,s,!0),m.a.q(n,"selectionchange",u)),m.a.e.set(e,c,t)};m.d.textInput={init:function(t,n,i){function s(e,n){m.a.q(t,e,n)}function c(){var r=m.a.c(n());null!==r&&r!==e||(r=""),d!==e&&r===d?m.a.setTimeout(c,4):t.value!==r&&(h=r,t.value=r)}function u(){p||(d=t.value,p=m.a.setTimeout(f,4))}function f(){clearTimeout(p),d=p=e;var r=t.value;h!==r&&(h=r,m.h.Ga(n(),i,"textInput",r))}var p,d,h=t.value,v=9==m.a.C?u:f;10>m.a.C?(s("propertychange",function(e){"value"===e.propertyName&&v(e)}),8==m.a.C&&(s("keyup",f),s("keydown",f)),8<=m.a.C&&(l(t,v),s("dragend",u))):(s("input",f),5>a&&"textarea"===m.a.A(t)?(s("keydown",u),s("paste",u),s("cut",u)):11>r?s("keydown",u):4>o&&(s("DOMAutoComplete",f),s("dragdrop",f),s("drop",f))),s("change",f),m.m(c,null,{i:t})}},m.h.ga.textInput=!0,m.d.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),m.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++m.d.uniqueName.Nc;m.a.vc(e,n)}}},m.d.uniqueName.Nc=0,m.d.value={after:["options","foreach"],init:function(e,t,n){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var r=["change"],i=n.get("valueUpdate"),a=!1,o=null;i&&("string"==typeof i&&(i=[i]),m.a.ta(r,i),r=m.a.Wb(r));var s=function(){o=null,a=!1;var r=t(),i=m.j.u(e);m.h.Ga(r,n,"value",i)};!m.a.C||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=m.a.o(r,"propertychange")||(m.a.q(e,"propertychange",function(){a=!0}),m.a.q(e,"focus",function(){a=!1}),m.a.q(e,"blur",function(){a&&s()})),m.a.r(r,function(t){var n=s;m.a.sd(t,"after")&&(n=function(){o=m.j.u(e),m.a.setTimeout(s,0)},t=t.substring(5)),m.a.q(e,t,n)});var c=function(){var r=m.a.c(t()),i=m.j.u(e);if(null!==o&&r===o)m.a.setTimeout(c,0);else if(r!==i)if("select"===m.a.A(e)){var a=n.get("valueAllowUnset"),i=function(){m.j.ja(e,r,a)};i(),a||r===m.j.u(e)?m.a.setTimeout(i,0):m.l.w(m.a.Fa,null,[e,"change"])}else m.j.ja(e,r)};m.m(c,null,{i:e})}else m.La(e,{checkedValue:t})},update:function(){}},m.h.ga.value=!0,m.d.visible={update:function(e,t){var n=m.a.c(t()),r="none"!=e.style.display;n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},function(e){m.d[e]={init:function(t,n,r,i,a){return m.d.event.init.call(this,t,function(){var t={};return t[e]=n(),t},r,i,a)}}}("click"),m.P=function(){},m.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},m.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},m.P.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||n;var r=t.getElementById(e);if(!r)throw Error("Cannot find template with ID "+e);return new m.v.n(r)}if(1==e.nodeType||8==e.nodeType)return new m.v.sa(e);throw Error("Unknown template type: "+e)},m.P.prototype.renderTemplate=function(e,t,n,r){return e=this.makeTemplateSource(e,r),this.renderTemplateSource(e,t,n,r)},m.P.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},m.P.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},m.b("templateEngine",m.P),m.Ib=function(){function e(e,t,n,r){e=m.h.Ab(e);for(var i=m.h.va,a=0;a<e.length;a++){var o=e[a].key;if(i.hasOwnProperty(o)){var s=i[o];if("function"==typeof s){if(o=s(e[a].value))throw Error(o)}else if(!s)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+m.h.Xa(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return m.Ib.jd(e,t)},n)},jd:function(r,i){return r.replace(t,function(t,n,r,a,o){return e(o,n,r,i)}).replace(n,function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",i)})},Jc:function(e,t){return m.N.yb(function(n,r){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===t&&m.La(i,e,r)})}}}(),m.b("__tr_ambtns",m.Ib.Jc),function(){m.v={},m.v.n=function(e){if(this.n=e){var t=m.a.A(e);this.eb="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},m.v.n.prototype.text=function(){var e=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[e];var t=arguments[0];"innerHTML"===e?m.a.Eb(this.n,t):this.n[e]=t};var t=m.a.e.J()+"_";m.v.n.prototype.data=function(e){if(1===arguments.length)return m.a.e.get(this.n,t+e);m.a.e.set(this.n,t+e,arguments[1])};var n=m.a.e.J();m.v.n.prototype.nodes=function(){var t=this.n;if(0==arguments.length)return(m.a.e.get(t,n)||{}).mb||(3===this.eb?t.content:4===this.eb?t:e);m.a.e.set(t,n,{mb:arguments[0]})},m.v.sa=function(e){this.n=e},m.v.sa.prototype=new m.v.n,m.v.sa.prototype.text=function(){if(0==arguments.length){var t=m.a.e.get(this.n,n)||{};return t.Jb===e&&t.mb&&(t.Jb=t.mb.innerHTML),t.Jb}m.a.e.set(this.n,n,{Jb:arguments[0]})},m.b("templateSources",m.v),m.b("templateSources.domElement",m.v.n),m.b("templateSources.anonymousTemplate",m.v.sa)}(),function(){function t(e,t,n){var r;for(t=m.f.nextSibling(t);e&&(r=e)!==t;)e=m.f.nextSibling(r),n(r,e)}function n(e,n){if(e.length){var r=e[0],i=e[e.length-1],a=r.parentNode,o=m.S.instance,s=o.preprocessNode;if(s){if(t(r,i,function(e,t){var n=e.previousSibling,a=s.call(o,e);a&&(e===r&&(r=a[0]||t),e===i&&(i=a[a.length-1]||n))}),e.length=0,!r)return;r===i?e.push(r):(e.push(r,i),m.a.Ba(e,a))}t(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||m.Ub(n,e)}),t(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||m.N.Cc(e,[n])}),m.a.Ba(e,a)}}function r(e){return e.nodeType?e:0<e.length?e[0]:null}function i(e,t,i,a,s){s=s||{};var c=(e&&r(e)||i||{}).ownerDocument,u=s.templateEngine||o;if(m.Ib.Tc(i,u,c),i=u.renderTemplate(i,a,s,c),"number"!=typeof i.length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,t){case"replaceChildren":m.f.fa(e,i),c=!0;break;case"replaceNode":m.a.uc(e,i),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return c&&(n(i,a),s.afterRender&&m.l.w(s.afterRender,null,[i,a.$data])),i}function a(e,t,n){return m.I(e)?e():"function"==typeof e?e(t,n):e}var o;m.Fb=function(t){if(t!=e&&!(t instanceof m.P))throw Error("templateEngine must inherit from ko.templateEngine");o=t},m.Cb=function(t,n,s,c,u){if(s=s||{},(s.templateEngine||o)==e)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",c){var l=r(c);return m.B(function(){var e=n&&n instanceof m.R?n:new m.R(n,null,null,null,{exportDependencies:!0}),o=a(t,e.$data,e),e=i(c,u,o,e,s);"replaceNode"==u&&(c=e,l=r(c))},null,{ya:function(){return!l||!m.a.qb(l)},i:l&&"replaceNode"==u?l.parentNode:l})}return m.N.yb(function(e){m.Cb(t,n,s,e,"replaceNode")})},m.pd=function(t,r,o,s,c){function u(e,t){n(t,f),o.afterRender&&o.afterRender(t,e),f=null}function l(e,n){return f=c.createChildContext(e,o.as,function(e){e.$index=n}),i(null,"ignoreTargetNode",a(t,e,f),f,o)}var f;return m.B(function(){var t=m.a.c(r)||[];void 0===t.length&&(t=[t]),t=m.a.Ma(t,function(t){return o.includeDestroyed||t===e||null===t||!m.a.c(t._destroy)}),m.l.w(m.a.Db,null,[s,t,l,o,u])},null,{i:s})};var s=m.a.e.J();m.d.template={init:function(e,t){var n=m.a.c(t());if("string"==typeof n||n.name)m.f.za(e);else{if("nodes"in n){if(n=n.nodes||[],m.I(n))throw Error('The "nodes" option must be a plain, non-observable array.')}else n=m.f.childNodes(e);n=m.a.nc(n),new m.v.sa(e).nodes(n)}return{controlsDescendantBindings:!0}},update:function(t,n,r,i,a){var o=n();n=m.a.c(o),r=!0,i=null,"string"==typeof n?n={}:(o=n.name,"if"in n&&(r=m.a.c(n.if)),r&&"ifnot"in n&&(r=!m.a.c(n.ifnot))),"foreach"in n?i=m.pd(o||t,r&&n.foreach||[],n,t,a):r?(a="data"in n?a.ac(n.data,n.as):a,i=m.Cb(o||t,a,n,t)):m.f.za(t),a=i,(n=m.a.e.get(t,s))&&"function"==typeof n.k&&n.k(),m.a.e.set(t,s,a&&a.ca()?a:e)}},m.h.va.template=function(e){return e=m.h.Ab(e),1==e.length&&e[0].unknown||m.h.fd(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},m.f.aa.template=!0}(),m.b("setTemplateEngine",m.Fb),m.b("renderTemplate",m.Cb),m.a.hc=function(e,t,n){if(e.length&&t.length){var r,i,a,o,s;for(r=i=0;(!n||r<n)&&(o=e[i]);++i){for(a=0;s=t[a];++a)if(o.value===s.value){o.moved=s.index,s.moved=o.index,t.splice(a,1),r=a=0;break}r+=a}}},m.a.lb=function(){function e(e,t,n,r,i){var a,o,s,c,u,l=Math.min,f=Math.max,p=[],d=e.length,h=t.length,v=h-d||1,g=d+h+1;for(a=0;a<=d;a++)for(c=s,p.push(s=[]),u=l(h,a+v),o=f(0,a-1);o<=u;o++)s[o]=o?a?e[a-1]===t[o-1]?c[o-1]:l(c[o]||g,s[o-1]||g)+1:o+1:a+1;for(l=[],f=[],v=[],a=d,o=h;a||o;)h=p[a][o]-1,o&&h===p[a][o-1]?f.push(l[l.length]={status:n,value:t[--o],index:o}):a&&h===p[a-1][o]?v.push(l[l.length]={status:r,value:e[--a],index:a}):(--o,--a,i.sparse||l.push({status:"retained",value:t[o]}));return m.a.hc(v,f,!i.dontLimitMoves&&10*d),l.reverse()}return function(t,n,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},t=t||[],n=n||[],t.length<n.length?e(t,n,"added","deleted",r):e(n,t,"deleted","added",r)}}(),m.b("utils.compareArrays",m.a.lb),function(){function t(t,n,r,i,a){var o=[],s=m.B(function(){var e=n(r,a,m.a.Ba(o,t))||[];0<o.length&&(m.a.uc(o,e),i&&m.l.w(i,null,[r,e,a])),o.length=0,m.a.ta(o,e)},null,{i:t,ya:function(){return!m.a.Tb(o)}});return{ea:o,B:s.ca()?s:e}}var n=m.a.e.J(),r=m.a.e.J();m.a.Db=function(i,a,o,s,c){function u(e,t){x=p[t],b!==t&&(_[e]=x),x.tb(b++),m.a.Ba(x.ea,i),v.push(x),w.push(x)}function l(e,t){if(e)for(var n=0,r=t.length;n<r;n++)t[n]&&m.a.r(t[n].ea,function(r){e(r,n,t[n].ka)})}a=a||[],s=s||{};var f=m.a.e.get(i,n)===e,p=m.a.e.get(i,n)||[],d=m.a.ib(p,function(e){return e.ka}),h=m.a.lb(d,a,s.dontLimitMoves),v=[],g=0,b=0,y=[],w=[];a=[];for(var x,k,S,_=[],d=[],E=0;k=h[E];E++)switch(S=k.moved,k.status){case"deleted":S===e&&(x=p[g],x.B&&(x.B.k(),x.B=e),m.a.Ba(x.ea,i).length&&(s.beforeRemove&&(v.push(x),w.push(x),x.ka===r?x=null:a[E]=x),x&&y.push.apply(y,x.ea))),g++;break;case"retained":u(E,g++);break;case"added":S!==e?u(E,S):(x={ka:k.value,tb:m.O(b++)},v.push(x),w.push(x),f||(d[E]=x))}m.a.e.set(i,n,v),l(s.beforeMove,_),m.a.r(y,s.beforeRemove?m.ba:m.removeNode);for(var C,E=0,f=m.f.firstChild(i);x=w[E];E++){for(x.ea||m.a.extend(x,t(i,o,x.ka,c,x.tb)),g=0;h=x.ea[g];f=h.nextSibling,C=h,g++)h!==f&&m.f.kc(i,h,C);!x.ad&&c&&(c(x.ka,x.ea,x.tb),x.ad=!0)}for(l(s.beforeRemove,a),E=0;E<a.length;++E)a[E]&&(a[E].ka=r);l(s.afterMove,_),l(s.afterAdd,d)}}(),m.b("utils.setDomNodeChildrenFromArrayMapping",m.a.Db),m.X=function(){this.allowTemplateRewriting=!1},m.X.prototype=new m.P,m.X.prototype.renderTemplateSource=function(e,t,n,r){return(t=(9>m.a.C?0:e.nodes)?e.nodes():null)?m.a.W(t.cloneNode(!0).childNodes):(e=e.text(),m.a.na(e,r))},m.X.vb=new m.X,m.Fb(m.X.vb),m.b("nativeTemplateEngine",m.X),function(){m.xb=function(){var e=this.ed=function(){if(!i||!i.tmpl)return 0;try{if(0<=i.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,r,a,o){if(o=o||n,a=a||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var s=t.data("precompiled");return s||(s=t.text()||"",s=i.template(null,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),t.data("precompiled",s)),t=[r.$data],r=i.extend({koBindingContext:r},a.templateOptions),r=i.tmpl(s,t,r),r.appendTo(o.createElement("div")),i.fragments={},r},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){n.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},m.xb.prototype=new m.P;var e=new m.xb;0<e.ed&&m.Fb(e),m.b("jqueryTmplTemplateEngine",m.xb)}()})}()}(),function(e){function t(e,t,n,r,i){this._listener=t,this._isOnce=n,this.context=r,this._signal=e,this._priority=i||0}function n(e,t){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function r(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){r.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},r.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,n,r,i){var a=this._indexOfListener(e,r);if(-1!==a){if(e=this._bindings[a],e.isOnce()!==n)throw Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else e=new t(this,e,n,r,i),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,r=this._bindings.length;r--;)if(n=this._bindings[r],n._listener===e&&n.context===t)return r;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,r){return n(e,"add"),this._registerListener(e,!1,t,r)},addOnce:function(e,t,r){return n(e,"addOnce"),this._registerListener(e,!0,t,r)},remove:function(e,t){n(e,"remove");var r=this._indexOfListener(e,t);return-1!==r&&(this._bindings[r]._destroy(),this._bindings.splice(r,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){t=this._bindings.slice(),this._shouldPropagate=!0;do{r--}while(t[r]&&this._shouldPropagate&&!1!==t[r].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var i=r;i.Signal=r,"function"==typeof define&&define.amd?define("signals",[],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.signals=i}(this),function(){var e=function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function n(e,n){var r=t(e,n);-1!==r&&e.splice(r,1)}function r(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function i(e){return r(e,"RegExp")}function a(e){return r(e,"Array")}function o(e){return"function"==typeof e}function s(e){return null===e||"null"===e?null:"true"===e||"false"!==e&&(e===h||"undefined"===e?h:""===e||isNaN(e)?e:parseFloat(e))}function c(e){for(var t=e.length,n=[];t--;)n[t]=s(e[t]);return n}function u(e,t){for(var n,r,i,o,c=(e||"").replace("?","").split("&"),u=-1,l={};r=c[++u];)n=r.indexOf("="),o=r.substring(0,n),i=decodeURIComponent(r.substring(n+1)),!1!==t&&(i=s(i)),o in l?a(l[o])?l[o].push(i):l[o]=[l[o],i]:l[o]=i;return l}function l(){this.bypassed=new e.Signal,this.routed=new e.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function f(t,n,r,a){var o=i(t),s=a.patternLexer;this._router=a,this._pattern=t,this._paramsIds=o?null:s.getParamIds(t),this._optionalParamsIds=o?null:s.getOptionalParamsIds(t),
this._matchRegexp=o?t:s.compilePattern(t,a.ignoreCase),this.matched=new e.Signal,this.switched=new e.Signal,n&&this.matched.add(n),this._priority=r||0}var p,d,h;return d=""===/t(.+)?/.exec("t")[1],l.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new l},addRoute:function(e,t,n){var r=new f(e,t,n,this);return this._sortedInsert(r),r},removeRoute:function(e){n(this._routes,e),e._destroy()},removeAllRoutes:function(){for(var e=this.getNumRoutes();e--;)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){if(e=e||"",t=t||[],this.ignoreState||e!==this._prevMatchedRequest&&e!==this._prevBypassedRequest){var n,r=this._getMatchedRoutes(e),i=0,a=r.length;if(a)for(this._prevMatchedRequest=e,this._notifyPrevRoutes(r,e),this._prevRoutes=r;i<a;)n=r[i],n.route.matched.dispatch.apply(n.route.matched,t.concat(n.params)),n.isFirst=!i,this.routed.dispatch.apply(this.routed,t.concat([e,n])),i+=1;else this._prevBypassedRequest=e,this.bypassed.dispatch.apply(this.bypassed,t.concat([e]));this._pipeParse(e,t)}},_notifyPrevRoutes:function(e,t){for(var n,r=0;n=this._prevRoutes[r++];)n.route.switched&&this._didSwitch(n.route,e)&&n.route.switched.dispatch(t)},_didSwitch:function(e,t){for(var n,r=0;n=t[r++];)if(n.route===e)return!1;return!0},_pipeParse:function(e,t){for(var n,r=0;n=this._piped[r++];)n.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,n=t.length;do{--n}while(t[n]&&e._priority<=t[n]._priority);t.splice(n+1,0,e)},_getMatchedRoutes:function(e){for(var t,n=[],r=this._routes,i=r.length;(t=r[--i])&&((!n.length||this.greedy||t.greedy)&&t.match(e)&&n.push({route:t,params:t._getParamsArray(e)}),this.greedyEnabled||!n.length););return n},pipe:function(e){this._piped.push(e)},unpipe:function(e){n(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},p=new l,p.VERSION="0.12.2",p.NORM_AS_ARRAY=function(e,t){return[t.vals_]},p.NORM_AS_OBJECT=function(e,t){return[t]},f.prototype={greedy:!1,rules:void 0,match:function(e){return e=e||"",this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t,n=this.rules,r=this._getParamsObject(e);for(t in n)if("normalize_"!==t&&n.hasOwnProperty(t)&&!this._isValidParam(e,t,r))return!1;return!0},_isValidParam:function(e,n,r){var s=this.rules[n],c=r[n],u=!1,l=0===n.indexOf("?");return null==c&&this._optionalParamsIds&&-1!==t(this._optionalParamsIds,n)?u=!0:i(s)?(l&&(c=r[n+"_"]),u=s.test(c)):a(s)?(l&&(c=r[n+"_"]),u=this._isValidArrayRule(s,c)):o(s)&&(u=s(c,e,r)),u},_isValidArrayRule:function(e,n){if(!this._router.ignoreCase)return-1!==t(e,n);"string"==typeof n&&(n=n.toLowerCase());for(var r,i=e.length;i--;)if(r=e[i],("string"==typeof r?r.toLowerCase():r)===n)return!0;return!1},_getParamsObject:function(e){for(var n,r,i=this._router.shouldTypecast,a=this._router.patternLexer.getParamValues(e,this._matchRegexp,i),o={},c=a.length;c--;)r=a[c],this._paramsIds&&(n=this._paramsIds[c],0===n.indexOf("?")&&r&&(o[n+"_"]=r,r=u(r,i),a[c]=r),d&&""===r&&-1!==t(this._optionalParamsIds,n)&&(r=void 0,a[c]=r),o[n]=r),o[c]=r;return o.request_=i?s(e):e,o.vals_=a,o},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null;return t=t||this._router.normalizeFn,t&&o(t)?t(e,this._getParamsObject(e)):this._getParamsObject(e).vals_},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},l.prototype.patternLexer=function(){function e(e,t){var n,r=[];for(e.lastIndex=0;n=e.exec(t);)r.push(n[1]);return r}function t(t){return e(p,t)}function n(t){return e(d.OP.rgx,t)}function r(e,t){return e=e||"",e&&(g===h?e=e.replace(l,""):g===v&&(e=e.replace(f,"")),e=i(e,"rgx","save"),e=e.replace(u,"\\$&"),e=i(e,"rRestore","res"),g===h&&(e="\\/?"+e)),g!==m&&(e+="\\/?"),new RegExp("^"+e+"$",t?"i":"")}function i(e,t,n){var r,i;for(i in d)d.hasOwnProperty(i)&&(r=d[i],e=e.replace(r[t],r[n]));return e}function o(e,t,n){var r=t.exec(e);return r&&(r.shift(),n&&(r=c(r))),r}function s(e,t){if(t=t||{},"string"!=typeof e)throw new Error("Route pattern should be a string.");var n=function(e,n){var r;if(n="?"===n.substr(0,1)?n.substr(1):n,null!=t[n]){if("object"==typeof t[n]){var i,o=[];for(var s in t[n])if(i=t[n][s],a(i))for(var c in i)"[]"==s.slice(-2)?o.push(encodeURI(s.slice(0,-2))+"[]="+encodeURI(i[c])):o.push(encodeURI(s+"="+i[c]));else o.push(encodeURI(s+"="+i));r="?"+o.join("&")}else r=String(t[n]);if(-1===e.indexOf("*")&&-1!==r.indexOf("/"))throw new Error('Invalid value "'+r+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");r=""}return r};return d.OS.trail||(d.OS.trail=new RegExp("(?:"+d.OS.id+")+$")),e.replace(d.OS.rgx,d.OS.save).replace(p,n).replace(d.OS.trail,"").replace(d.OS.rRestore,"/")}var u=/[\\.+*?\^$\[\](){}\/'#]/g,l=/^\/|\/$/g,f=/\/$/g,p=/(?:\{|:)([^}:]+)(?:\}|:)/g,d={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},h=1,m=2,v=3,g=h;return function(){var e,t;for(e in d)d.hasOwnProperty(e)&&(t=d[e],t.id="__CR_"+e+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}(),{strict:function(){g=m},loose:function(){g=h},legacy:function(){g=v},getParamIds:t,getOptionalParamsIds:n,getParamValues:o,compilePattern:r,interpolate:s}}(),p};"function"==typeof define&&define.amd?define("crossroads",["signals"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("signals")):window.crossroads=e(window.signals)}(),/*!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
function(){var e=function(e){return function(t){function n(e){return String(e||"").replace(/\W/g,"\\$&")}function r(e){if(!e)return"";var t=new RegExp("^"+n(d.prependHash)+"|"+n(d.appendHash)+"$","g");return e.replace(t,"")}function i(){var e=x.exec(d.getURL()),t=e&&e[1]||"";try{return d.raw?t:decodeURIComponent(t)}catch(e){return t}}function a(){return g?g.contentWindow.frameHash:null}function o(){g=y.createElement("iframe"),g.src="about:blank",g.style.display="none",y.body.appendChild(g)}function s(){if(g&&h!==a()){var e=g.contentWindow.document;e.open(),e.write("<html><head><title>"+y.title+'</title><script type="text/javascript">var frameHash="'+h+'";<\/script></head><body>&nbsp;</body></html>'),e.close()}}function c(e,t){if(h!==e){var n=h;h=e,C&&(t?g.contentWindow.frameHash=e:s()),d.changed.dispatch(r(e),r(n))}}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function l(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function f(e){e=Array.prototype.slice.call(arguments);var t=e.join(d.separator);return t=t?d.prependHash+t.replace(S,"")+d.appendHash:t}function p(e){return e=encodeURI(e),_&&R&&(e=e.replace(/\?/,"%3F")),e}var d,h,m,v,g,b,y=t.document,w=(t.history,e.Signal),x=/#(.*)$/,k=/(\?.*)|(\#.*)/,S=/^\#/,_=!1,E="onhashchange"in t&&7!==y.documentMode,C=_&&!E,R="file:"===location.protocol;return b=C?function(){var e=i(),t=a();t!==h&&t!==e?d.setHash(r(t)):e!==h&&c(e)}:function(){var e=i();e!==h&&c(e)},d={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new w,stopped:new w,initialized:new w,init:function(){v||(h=i(),E?u(t,"hashchange",b):(C&&(g||o(),s()),m=setInterval(b,25)),v=!0,d.initialized.dispatch(r(h)))},stop:function(){v&&(E?l(t,"hashchange",b):(clearInterval(m),m=null),v=!1,d.stopped.dispatch(r(h)))},isActive:function(){return v},getURL:function(){return t.location.href},getBaseURL:function(){return d.getURL().replace(k,"")},setHash:function(e){(e=f.apply(null,arguments))!==h&&(c(e),e===h&&(d.raw||(e=p(e)),t.location.hash="#"+e))},replaceHash:function(e){(e=f.apply(null,arguments))!==h&&(c(e,!0),e===h&&(d.raw||(e=p(e)),t.location.replace("#"+e)))},getHash:function(){return r(h)},getHashAsArray:function(){return d.getHash().split(d.separator)},dispose:function(){d.stop(),d.initialized.dispose(),d.stopped.dispose(),d.changed.dispose(),g=d=t.hasher=null},toString:function(){return'[hasher version="'+d.VERSION+'" hash="'+d.getHash()+'"]'}},d.initialized.memorize=!0,d}(window)};"function"==typeof define&&define.amd?define("hasher",["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):window.hasher=e(window.signals)}(),define("app/router",["knockout","crossroads","hasher"],function(e,t,n){function r(n){var r=this.currentRoute=e.observable({});e.utils.arrayForEach(n.routes,function(n){t.addRoute(n.url,function(t){r(e.utils.extend(t,n.params))})}),i()}function i(){function e(e,n){t.parse(e)}t.normalizeFn=t.NORM_AS_OBJECT,n.initialized.add(e),n.changed.add(e),n.init()}return new r({routes:[{url:"",params:{page:"home"}},{url:"about",params:{page:"about"}}]})}),define("app/components.config",{pages:[{name:"home",path:"pages/home/home"},{name:"about",path:"pages/about/about"}],components:[{name:"footer-bar",path:"components/footer-bar/footer-bar"},{name:"footer",path:"components/footer/footer"},{name:"favorite-list-view",path:"components/favorite-list-view/favorite-list-view"},{name:"favorite-view",path:"components/favorite-view/favorite-view"},{name:"yelp-details",path:"components/yelp-details/yelp-details"},{name:"detail-view",path:"components/detail-view/detail-view"},{name:"side-list",path:"components/side-list/side-list"},{name:"test",path:"components/test/test"},{name:"main-map",path:"components/main-map/main-map"},{name:"nav-bar",path:"components/nav-bar/nav-bar"},{name:"app",path:"components/app/app"}]}),define("app/startup",["knockout","./router","./components.config"],function(e,t,n){function r(t){e.components.register(t.name,{require:t.path})}n.pages.forEach(r),n.components.forEach(r),e.applyBindings({route:t.currentRoute})}),/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
define("text",["module"],function(e){function t(e,t){return void 0===e||""===e?t:e}function n(e,n,r,i){if(n===i)return!0;if(e===r){if("http"===e)return t(n,"80")===t(i,"80");if("https"===e)return t(n,"443")===t(i,"443")}return!1}var r,i,a,o,s,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f="undefined"!=typeof location&&location.href,p=f&&location.protocol&&location.protocol.replace(/\:/,""),d=f&&location.hostname,h=f&&(location.port||void 0),m={},v=e.config&&e.config()||{};return r={version:"2.0.15",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:v.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=c[t];try{e=new ActiveXObject(n)}catch(e){}if(e){c=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,a=e.lastIndexOf("."),o=0===e.indexOf("./")||0===e.indexOf("../");return-1!==a&&(!o||a>1)?(t=e.substring(0,a),n=e.substring(a+1)):t=e,r=n||t,a=r.indexOf("!"),-1!==a&&(i="strip"===r.substring(a+1),r=r.substring(0,a),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,a){var o,s,c,u=r.xdRegExp.exec(e);return!u||(o=u[2],s=u[3],s=s.split(":"),c=s[1],s=s[0],(!o||o===t)&&(!s||s.toLowerCase()===i.toLowerCase())&&(!c&&!s||n(o,c,t,a)))},finishLoad:function(e,t,n,i){n=t?r.strip(n):n,v.isBuild&&(m[e]=n),i(n)},load:function(e,t,n,i){if(i&&i.isBuild&&!i.inlineText)return void n();v.isBuild=i&&i.isBuild;var a=r.parseName(e),o=a.moduleName+(a.ext?"."+a.ext:""),s=t.toUrl(o),c=v.useXhr||r.useXhr;if(0===s.indexOf("empty:"))return void n();!f||c(s,p,d,h)?r.get(s,function(t){r.finishLoad(e,a.strip,t,n)},function(e){n.error&&n.error(e)}):
//!strip part to avoid file system issues.
t([o],function(e){r.finishLoad(a.moduleName+"."+a.ext,a.strip,e,n)})},write:function(e,t,n,i){if(m.hasOwnProperty(t)){var a=r.jsEscape(m[t]);n.asModule(e+"!"+t,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,t,n,i,a){var o=r.parseName(t),s=o.ext?"."+o.ext:"",c=o.moduleName+s,u=n.toUrl(o.moduleName+s)+".js";r.load(c,n,function(t){var n=function(e){return i(u,e)};n.asModule=function(e,t){return i.asModule(e,u,t)},r.write(e,c,n,a)},a)}},"node"===v.env||!v.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),r.get=function(e,t,n){try{var r=i.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(e){n&&n(e)}}):"xhr"===v.env||!v.env&&r.createXhr()?r.get=function(e,t,n,i){var a,o=r.createXhr();if(o.open("GET",e,!0),i)for(a in i)i.hasOwnProperty(a)&&o.setRequestHeader(a.toLowerCase(),i[a]);v.onXhr&&v.onXhr(o,e),o.onreadystatechange=function(r){var i,a;4===o.readyState&&(i=o.status||0,i>399&&i<600?(a=new Error(e+" HTTP status: "+i),a.xhr=o,n&&n(a)):t(o.responseText),v.onXhrComplete&&v.onXhrComplete(o,e))},o.send(null)}:"rhino"===v.env||!v.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?r.get=function(e,t){var n,r,i=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),s="";try{for(n=new java.lang.StringBuffer,r=o.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=o.readLine());)n.append(a),n.append(r);s=String(n.toString())}finally{o.close()}t(s)}:("xpconnect"===v.env||!v.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(a=Components.classes,o=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in a,r.get=function(e,t){var n,r,i,c={};s&&(e=e.replace(/\//g,"\\")),i=new FileUtils.File(e);try{n=a["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(i,1,0,!1),r=a["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),c),r.close(),n.close(),t(c.value)}catch(e){throw new Error((i&&i.path||"")+": "+e)}}),r}),define("text!components/app/app.html",[],function(){return'<nav-bar params="route: route"></nav-bar>\r\n<div id="page" class="container" data-bind="component: { name: route().page, params: route }"></div>\r\n<footer-bar></footer-bar>\r\n'}),define("components/app/app",["knockout","text!./app.html"],function(e,t){function n(e){this.route=e.route}return{viewModel:n,template:t}}),define("text!components/nav-bar/nav-bar.html",[],function(){return'\x3c!--\r\n  The navigation UI that is docked to the top of the window. Most of this markup simply\r\n  follows Bootstrap conventions. The only Knockout-specific parts are the data-bind\r\n  attributes on the <li> elements.\r\n--\x3e\r\n<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">\r\n  <div class="container">\r\n    <div class="navbar-header">\r\n      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\r\n        <span class="sr-only">Toggle navigation</span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n      </button>\r\n      <img src="images/cigar-logo.png" alt="icon of burning cigar">\r\n      <a class="navbar-brand" href="#"> SoCal Cigar Shops</a>\r\n    </div>\r\n    <div class="collapse navbar-collapse">\r\n\r\n      <ul class="nav navbar-nav">\r\n        <li data-bind="css: { active: route().page === \'home\' }">\r\n          <a href="#">Home</a>\r\n        </li>\r\n\r\n        <li data-bind="css: { active: route().page === \'about\' }">\r\n          <a href="#about">About</a>\r\n        </li>\r\n      </ul>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),define("components/nav-bar/nav-bar",["knockout","text!./nav-bar.html"],function(e,t){function n(e){this.route=e.route}return{viewModel:n,template:t}});var rickIgnoreList=["ChIJH-owLewb24ARRqe5GGviLWM","ChIJtf9mjCcD24ARSr5D0OFxGBA","ChIJhdNfSI_-2oAR091xjEeFBeY","ChIJp2xD5Lob24ARfD79zH8qGaQ","ChIJCZ1kyLz92oARMY5MhAxZzOw","ChIJHfUK1F352oARRmafuSeVEdw","ChIJH-owLewb24ARbCJRzdNGlYs","ChIJMa1DRHr-2oARokTfcUYZeG8","ChIJ0daDZl752oARuxk894hXBNc","ChIJxQrR1XYb24ARPhhAph3x-3E","ChIJG00JhC4d24ARRbl1wodOjBI","ChIJ54OpGaUb24ARFDRv4gp4cX8","ChIJUY0dTAgb24AROXhia2qSBOE","ChIJ2RG2BkGVwoARyO9ezSXNlj0","ChIJ07byuEG3woARb5cCmQwzgrI","ChIJtx3cF-fHwoARXcs0Gavg16o","ChIJe79q9ke6woARGqmCtTFiURQ","ChIJbZuIHMys3oAR0UhQWhTAk2k","ChIJg0Fh6zp13IARjItMpENbxiQ","ChIJaYf6X_Yn24ARbjdxd9-Ni_E","ChIJ2T7LpOOq3oARFMmuUkOeZYw"];define("ignore",function(){});var rickFavoritesList=["ChIJ5Y0-uKUb24ARLsVnbUyJY24","ChIJ8QttRv29woAR02Hsc18FdFg","ChIJ-yAVwTxX2YARF2RvuUkoBM8","ChIJd3_fxAkb24ARTj6xQle0YsA","ChIJZ-jnSrAy3YARUs-_Rj482sk"];define("favorites",function(){}),define("text!components/main-map/main-map.html",[],function(){return'\x3c!-- ko if: errorMessage --\x3e\r\n<div class="error" data-bind="errorMessage"></div>\r\n\x3c!-- /ko --\x3e\r\n\r\n\x3c!-- ko ifno: errorMessage --\x3e\r\n<div class="row">\r\n    \x3c!-- ko foreach: cityList --\x3e\r\n    <button class="btn btn-primary" data-bind="text: name, click: $parent.setCurrentCity"></button>\r\n    \x3c!-- /ko --\x3e\r\n    <h2 data-bind="text: message, attr: {\'data-city\': currentCity().name}"></h2>\r\n</div>\r\n<div class="row">\r\n    <div class="col-md-9 col-md-push-3">\r\n        <ul class="nav nav-tabs">\r\n            <li class="active" role="presentation"><a data-toggle="tab" href="#map-tab">Map</a></li>\r\n            <li role="presentation"><a data-toggle="tab" href="#cards">Favorites</a></li>\r\n            <li role="presentation"><a data-toggle="tab" href="#store-detail">Store Detail</a></li>\r\n        </ul>\r\n        <div class="tab-content">\r\n            <div id="map-tab" class="tab-pane fade in active">\r\n                <div id="map"></div>\r\n            </div>\r\n            <div id="cards" class="tab-pane fade">\r\n                <div data-bind="component:{\r\n                        name: \'favorite-list-view\',\r\n                        params: {\r\n                            favoritesList: favoritesList\r\n                        }\r\n                    }">\r\n                </div>\r\n            </div>\r\n            <div id="store-detail" class="tab-pane fade">\r\n                <div data-bind="component:{\r\n                        name: \'detail-view\',\r\n                        params: {\r\n                            shopDetails: shopResult,\r\n                            shopPhoto: shopPhoto,\r\n                            favoritesList: favoritesList,\r\n                            showRickFavoritesOnly: showRickFavoritesOnly\r\n                        }\r\n                    }">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-3 col-md-pull-9">\r\n        <div data-bind="component:{\r\n            name: \'side-list\',\r\n            params: {\r\n            shopList: shopList,\r\n            favoritesList: favoritesList\r\n            }\r\n        }">\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n'}),define("components/main-map/main-map",["ignore","favorites","knockout","text!./main-map.html"],function(e,t,n,r){function i(e){var t,r=this;this.cityList=n.observableArray(),this.currentCity=n.observableArray(),this.currentShop=n.observableArray(),this.message=n.observable(),this.errorMessage=n.observable(),this.shopList=n.observableArray(),this.shopResult=n.observableArray(),this.shopPhotos=n.observableArray(),this.shopPhoto=n.observable(),this.showRickFavoritesOnly=n.observable(!1),this.showYourFavoritesOnly=n.observable(!1),this.rickFavoritesList=n.observableArray(rickFavoritesList),this.favoritesList=n.observableArray(localStorage.getItem("cigarStoreFavoritesList")?JSON.parse(localStorage.getItem("cigarStoreFavoritesList")):[]);var i=$.getJSON("main-map-model.json",function(e){});i.done(function(e){for(element in e)r.cityList.push(new a(e[element]));r.currentCity(r.cityList()[0]),r.message(r.currentCity().name()+" Cigar Stores"),city=new google.maps.LatLng(r.currentCity().lat(),r.currentCity().lng()),r.currentCityMap(city,r.currentCity().zoom())}),i.fail(function(){console.log("Failed to read city data from JSON file");var e={name:"Palm Springs",lat:"33.7667",lng:"-116.3592",zoom:10};location=new google.maps.LatLng(e.lat,e.lng),r.currentCityMap(location,e.zoom),r.message(e.name+" Cigar Stores")}),this.setCurrentCity=function(e){r.currentCity(e),city=new google.maps.LatLng(r.currentCity().lat(),r.currentCity().lng()),r.currentCityMap(city,r.currentCity().zoom()),r.message(r.currentCity().name()+" Cigar Stores"),$('.nav-tabs a[href="#map-tab"]').tab("show")},this.setCurrentShop=function(e){r.currentShop(e);var n;n=e.hasOwnProperty("place_id")?{placeId:e.place_id}:{placeId:r.currentShop().placeId()},t=new google.maps.places.PlacesService(map),t.getDetails(n,function(e,t){if(t!==google.maps.places.PlacesServiceStatus.OK)return void console.error(t);t==google.maps.places.PlacesServiceStatus.OK&&(r.shopResult(e),r.getShopPhotos(e),$('.nav-tabs a[href="#store-detail"]').tab("show"),r.getSmallMap(e))})},this.getShopPhotos=function(e){var t=e.photos;if(t){r.shopPhoto(t[0].getUrl({maxWidth:640}));var n;for(n=0;n<t.length;n++)shopPhoto=t[n].getUrl({maxWidth:640}),r.shopPhotos.push(shopPhoto)}},this.currentCityMap=function(e,n){map=new google.maps.Map(document.getElementById("map"),{center:e,zoom:n,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER,style:google.maps.ZoomControlStyle.SMALL},streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},mapTypeControl:!1,panControl:!1});var i={location:e,radius:"50000",query:"cigar store"};t=new google.maps.places.PlacesService(map),t.textSearch(i,r.placesServiceCalback),infoWindow=new google.maps.InfoWindow},this.placesServiceCalback=function(e,t){if(t==google.maps.places.PlacesServiceStatus.OK){for(var n=[],i=localStorage.getItem("cigarStoreIgnoreList")?JSON.parse(localStorage.getItem("cigarStoreIgnoreList")):[],a=0;a<e.length;a++)if(1==r.showRickFavoritesOnly()){if(rickFavoritesList.includes(e[a].place_id)){var o=e[a];r.addMarker(o),n.push(e[a])}}else if(1==r.showYourFavoritesOnly()){if(r.favoritesList().includes(e[a].place_id)){var o=e[a];r.addMarker(o),n.push(e[a])}}else{if(i.includes(e[a].place_id)||rickIgnoreList.includes(e[a].place_id))continue;var o=e[a];r.addMarker(o),n.push(e[a])}r.shopList(r.createShopList(n))}},this.createShopList=function(e){shopList=[];for(place in e)shopList.push(new o(e[place]));return shopList},this.displayAll=function(){r.showRickFavoritesOnly(!1),r.showYourFavoritesOnly(!1),city=new google.maps.LatLng(r.currentCity().lat(),r.currentCity().lng()),r.currentCityMap(city,r.currentCity().zoom())},this.displayYourFavorietesOnly=function(){r.showRickFavoritesOnly(!1),r.showYourFavoritesOnly(!0),city=new google.maps.LatLng(r.currentCity().lat(),r.currentCity().lng()),r.currentCityMap(city,r.currentCity().zoom())},this.displayRickFavorietesOnly=function(){r.showRickFavoritesOnly(!0),city=new google.maps.LatLng(r.currentCity().lat(),r.currentCity().lng()),r.currentCityMap(city,r.currentCity().zoom())},this.addMarker=function(e){var n=new google.maps.Marker({map:map,position:e.geometry.location});google.maps.event.addListener(n,"click",function(){var i={placeId:e.place_id};n.setIcon("https://maps.google.com/mapfiles/kml/pal4/icon47.png"),t.getDetails(i,function(e,t){if(t!==google.maps.places.PlacesServiceStatus.OK)return void console.error(t);if(r.shopResult(e),e.opening_hours.open_now)var i='<span class="open">Open Now</span>';else var i='<span class="closed">Closed</span>';var a=e.vicinity?"<p>"+e.vicinity+"</p>":"",o=e.formatted_phone_number?"<p>"+e.formatted_phone_number+"</p>":"",s=e.rating?"<p> Rating: "+e.rating+" of 5</p>":"",c='<p class="info-window-title"><b>'+e.name+"</b></p>"+a+o+s+'<p class="info-window-footer">'+i+'<button class="btn btn-primary" id="more-details">More details</button></p>';infoWindow.setContent(c),infoWindow.open(map,n),$("#more-details").click(function(){$('.nav-tabs a[href="#store-detail"]').tab("show")})})})},this.addToFavoritesList=function(e){},this.getSmallMap=function(e){var t=new google.maps.Map(document.getElementById("small-map"),{zoom:15,center:e.geometry.location,mapTypeControl:!1,panControl:!1});new google.maps.Marker({position:e.geometry.location,map:t,icon:"https://maps.google.com/mapfiles/kml/pal4/icon47.png"})}}var a=function(e){this.id=n.observable(e.id),this.name=n.observable(e.name),this.lat=n.observable(e.lat),this.lng=n.observable(e.lng),this.zoom=n.observable(e.zoom)},o=function(e){this.placeId=n.observable(e.place_id),this.placeName=n.observable(e.name)};return{viewModel:i,template:r}}),define("text!components/side-list/side-list.html",[],function(){return'\x3c!-- Single button --\x3e\r\n<div class="btn-group">\r\n    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\r\n        <span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Filter Results <span class="caret"></span>\r\n    </button>\r\n    <ul class="dropdown-menu">\r\n        <li data-bind="click: $parent.displayRickFavorietesOnly"><a>Rick\'s Favorites</a></li>\r\n        <li data-bind="click: $parent.displayYourFavorietesOnly"><a>Your Favorites</a></li>\r\n        <li data-bind="click: $parent.displayAll"><a>All Results</a></li>\r\n    </ul>\r\n</div>\r\n\r\n<div id="shop-list" class="list-group">\r\n    \x3c!-- ko foreach: shopList --\x3e\r\n    <button type="button" class="list-group-item"\r\n            data-bind="text: placeName, click: $parents[1].setCurrentShop"></button>\r\n    \x3c!-- /ko --\x3e\r\n\r\n</div>\r\n'}),define("components/side-list/side-list",["favorites","knockout","text!./side-list.html"],function(e,t,n){function r(e){var n=this;this.message=t.observable("Hello from the side-list component!"),this.shopList=e.shopList,this.favoritesList=e.favoritesList,this.showRickFavoritesOnly=t.observable(e.showRickFavoritesOnly),this.displayRickFavorietesOnly=function(){1==n.showRickFavoritesOnly()?n.showRickFavoritesOnly(!1):n.showRickFavoritesOnly(!0)}}return{viewModel:r,template:n}}),define("text!components/detail-view/detail-view.html",[],function(){return'<div data-bind="if: shopDetails().name">\r\n    <header class="detail-view">\r\n        \x3c!-- ko if: shopPhoto --\x3e\r\n        <img data-bind="attr: {src: shopPhoto, alt: shopDetails().name}">\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko ifnot: shopPhoto --\x3e\r\n        <img src="./images/cigar-default.jpg" data-bind="attr: {alt: shopDetails().name}">\r\n        \x3c!-- /ko --\x3e\r\n        <h2 data-bind=\'text: shopDetails().name\'></h2>\r\n    </header>\r\n    <div class="row">\r\n        <div class="favorites">\r\n            <div data-bind="component:{\r\n                        name: \'favorite-view\',\r\n                        params: {\r\n                            shopDetails: shopDetails,\r\n                            favoritesList: favoritesList\r\n                        }\r\n                    }">\r\n            </div>\r\n        </div>\r\n        <div class="google-details col-md-6">\r\n            <h3>From Google</h3>\r\n            <p data-bind="text: shopDetails().vicinity"></p>\r\n            <p class="phone">\r\n                <span class="glyphicon glyphicon-phone" aria-hidden="true"></span>\r\n                <a data-bind="attr: {url: shopDetails().international_phone_number}">\r\n                    <span data-bind="text: shopDetails().formatted_phone_number"></span>\r\n                </a>\r\n            </p>\r\n            <div class="opening-hours">\r\n                <h4>\r\n                    \x3c!-- ko if: shopDetails().opening_hours.open_now --\x3e\r\n                    <span class="open">Open Now</span>\r\n                    \x3c!-- /ko --\x3e\r\n                    \x3c!-- ko if: !shopDetails().opening_hours.open_now --\x3e\r\n                    <span class="closed">Closed Now</span>\r\n                    \x3c!-- /ko --\x3e\r\n                </h4>\r\n                <p>Hours of operation</p>\r\n                <ul data-bind="foreach: shopDetails().opening_hours.weekday_text">\r\n                    <li data-bind="text: $data"></li>\r\n                </ul>\r\n            </div>\r\n            <div class="reviews">\r\n                <h3>Google Reviews Rating: <span data-bind="text: shopDetails().rating"></span> Stars</h3>\r\n                <p><b>Recent Reviews</b></p>\r\n                \x3c!-- ko foreach: { data: shopDetails().reviews, as: \'review\' } --\x3e\r\n                <div class="review-box clearfix">\r\n                    <p><b>Rating: <span data-bind="text: review.rating"></span> stars</b> - <span\r\n                            data-bind="text: review.relative_time_description"></span></p>\r\n                    <img data-bind="attr: {src: profile_photo_url}" width="50px" class="align-left">\r\n                    <p data-bind="text: review.text"></p>\r\n                    <p><a data-bind="attr: {href: review.author_url}" target="_blank"><em data-bind="text: review.author_name"></em></a>\r\n                    </p>\r\n                </div>\r\n                \x3c!-- /ko --\x3e\r\n            </div>\r\n\r\n        </div>\r\n        <div class="yelp-details col-md-6">\r\n            <div data-bind="component:{\r\n                        name: \'yelp-details\',\r\n                        params: { shopDetails: shopDetails}\r\n                    }">\r\n            </div>\r\n            <div id="small-map"></div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n\r\n</div>\r\n\r\n<div data-bind="ifnot: shopDetails().name">\r\n    <h2>You haven\'t selected a store yet</h2>\r\n    <p>Choose a store from the map or from the list on the side</p>\r\n</div>\r\n'}),define("components/detail-view/detail-view",["knockout","text!./detail-view.html"],function(e,t){function n(t){this.message=e.observable("Hello from the detail-view component!"),this.shopDetails=t.shopDetails,this.shopPhoto=t.shopPhoto,this.favoritesList=t.favoritesList}return{viewModel:n,template:t}}),define("text!components/favorite-view/favorite-view.html",[],function(){return'<button class="favorites btn btn-primary" data-bind="click: addToFavorites">Add to Favorites</button>\r\n<button class="ignores btn btn-warning" data-bind="click: addToIgnore">Ignore this store</button>\r\n'}),define("components/favorite-view/favorite-view",["knockout","text!./favorite-view.html"],function(e,t){function n(t){var n=this;this.message=e.observable("Hello from the favorite-view component!"),this.shopDetails=t.shopDetails,this.favoritesList=t.favoritesList;var r=localStorage.getItem("cigarStoreIgnoreList")?JSON.parse(localStorage.getItem("cigarStoreIgnoreList")):[];this.addToFavorites=function(){n.favoritesList().indexOf(n.shopDetails().place_id)<0&&(n.favoritesList().push(n.shopDetails().place_id),localStorage.setItem("cigarStoreFavoritesList",JSON.stringify(n.favoritesList())),$('.nav-tabs a[href="#cards"]').tab("show"),window.location.reload())},this.addToIgnore=function(){r.push(n.shopDetails().place_id),localStorage.setItem("cigarStoreIgnoreList",JSON.stringify(r)),window.location.reload()}}return{viewModel:n,template:t}}),define("text!components/yelp-details/yelp-details.html",[],function(){return'<div data-bind="if: yelpBusinessDetails().name">\r\n    <h3>Yelpers\' Perspective</h3>\r\n    <p>Price Range: <span data-bind="text: yelpBusinessDetails().price"></span></p>\r\n    <p>Yelpers give <span data-bind="text: yelpBusinessDetails().name"></span> a\r\n        <span data-bind="text: yelpBusinessDetails().rating"></span> star rating with\r\n        <span data-bind="text: yelpBusinessDetails().review_count"></span> reviews.\r\n    </p>\r\n    <p><a class="btn btn-danger" data-bind="attr: {href: yelpBusinessDetails().url}" target="_blank"> Read the Yelp\r\n        Reviews</a></p>\r\n</div>\r\n\r\n<div data-bind="ifnot: yelpBusinessDetails().name">\r\n    \x3c!-- ko ifnot: yelpBusinessDetails().error --\x3e\r\n        <h3>Information from Yelp about this business</h3>\r\n        <p>Yelp business details are loading</p>\r\n        <p class="spinner"><i class="glyphicon glyphicon-repeat gly-spin primary"></i></p>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\r\n<div data-bind="if: yelpBusinessDetails().error">\r\n    <h3>Yelp was not able to display information about this business</h3>\r\n    <p>You can try reloading the page</p>\r\n</div>\r\n\r\n'}),define("components/yelp-details/yelp-details",["knockout","text!./yelp-details.html"],function(e,t){function n(t){var n=this;this.message=e.observable("Hello from the yelp-details component!"),this.shopDetails=t.shopDetails,this.yelpBusinessDetails=e.observableArray(),this.yelp=e.computed(function(){var e=n.shopDetails().name,t=n.shopDetails().formatted_address,r={url:"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search",data:{term:e,location:t},headers:{Authorization:"Bearer 3GqU27VJpj8SyeDWHhJD5hjVlP8ejE7rWOANDIkMC00ZGqPmZA91w1oRo5hPH3Z951SiI8H7Wtoao-2MGZ8S8L-zLLZVyAM-8foykgftXZ60sdZCm0ahprgEty4TW3Yx"},error:function(e,t,r){n.yelpBusinessDetails({error:"Data not available"})}};$.ajax(r).done(function(e){Array.isArray(e.businesses)&&e.total>0?n.yelpBusinessDetails(e.businesses[0]):n.yelpBusinessDetails({error:"Data not available"})})},this).extend({deferred:!0})}return{viewModel:n,template:t}}),define("text!components/favorite-list-view/favorite-list-view.html",[],function(){return'<h2>Your favorite cigar stores</h2>\r\n\r\n<div data-bind="if: favoritesExist()">\r\n    <p data-bind=\'text: message\'></p>\r\n    \x3c!-- ko foreach: { data: favoriteStores(), as: \'shop\'} --\x3e\r\n    <div class="store-box row">\r\n        <div class="col-md-3 col-xs-4">\r\n            <img data-bind="attr: { src: shop.imageUrl }">\r\n        </div>\r\n        <div class="col-md-9 col-xs-8">\r\n            <h3 data-bind="text: shop.name"></h3>\r\n            <p data-bind="text: shop.vicinity"></p>\r\n            <p data-bind="text: shop.formatted_phone_number"></p>\r\n            <button type="button" class="btn btn-primary" data-bind="click: $parents[1].setCurrentShop"> View the store\'s full details</button>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\r\n<div data-bind="ifnot: favoritesExist()">\r\n    <p>You haven\'t selected any favorites yet.  You can add a store to your favorites from the store detail view</p>\r\n</div>\r\n\r\n'}),define("components/favorite-list-view/favorite-list-view",["knockout","text!./favorite-list-view.html"],function(e,t){function n(t){var n=this;this.message=e.observable("Hello from the favorite-list-view component!"),this.favoriteStores=e.observableArray(),this.favoritesExist=e.observable(!1),this.favoritesList=t.favoritesList,e.utils.arrayForEach(n.favoritesList(),function(e){var t={placeId:e};service=new google.maps.places.PlacesService(map),service.getDetails(t,function(e,t){if(t!==google.maps.places.PlacesServiceStatus.OK)return void console.error(t);if(t==google.maps.places.PlacesServiceStatus.OK){var r=e.photos;if(r){var i=r[0].getUrl({maxWidth:200,maxHeight:200});e.imageUrl=i}n.favoritesExist(!0),n.favoriteStores.push(e)}})})}return{viewModel:n,template:t}}),define("text!components/footer-bar/footer-bar.html",[],function(){return'<footer class="footer-bar clearfix">\r\n    <div class="container">\r\n        <div class="row">\r\n            <p> Copyright &copy; <span data-bind="text: year"></span> Rick Anderson</p>\r\n        </div>\r\n    </div>\r\n</footer>\r\n\r\n'}),define("components/footer-bar/footer-bar",["knockout","text!./footer-bar.html"],function(e,t){function n(t){this.message=e.observable("Hello from the footer-bar component!"),this.year=e.observable((new Date).getFullYear())}return{viewModel:n,template:t}}),define("text!pages/home/home.html",[],function(){return'<div class="container">\r\n    <div class="row">\r\n        <h1>Southern California Cigars Stores</h1>\r\n\r\n        <p data-bind=\'text: message\'></p>\r\n    </div>\r\n\r\n<main-map></main-map>\r\n\r\n\x3c!--<test></test>--\x3e\r\n</div>'}),define("pages/home/home",["knockout","text!./home.html"],function(e,t){function n(t){this.message=e.observable("Select a city below to see the best cigar shops there.")}return n.prototype.doSomething=function(){this.message("You invoked doSomething() on the viewmodel.")},{viewModel:n,template:t}}),define("text!pages/about/about.html",[],function(){return'<div class="container post-box">\r\n    <div class="row">\r\n        <div class="col-md-6 col-md-offset-3 col-sm-12">\r\n            <h1>About SoCal Cigar Shops</h1>\r\n\r\n            <p>This is a personal project originally developed for the Front End JavaScript course that I took while\r\n                attending\r\n                Udacity\'s Full Stack Web Development Nano Degree program. It was my expression of the "Neighborhood Map"\r\n                project in that\r\n                course.\r\n            </p>\r\n            <p>It attempts to answer the question "Where are the good cigar stores in Southern California". It\r\n                aggregates the\r\n                tools that I would use (Google & Yelp) to answer this question. I\'m attempting to improve on both of\r\n                those tools\r\n                by actively ignoring those establishments that a real cigar smoker wouldn\'t consider to be a real cigar\r\n                store.\r\n            </p>\r\n            <h2>What is a Real Cigar Store?</h2>\r\n            <p>Cigar smoking is a social activity. There is a camaraderie of cigar smokers that real cigar stores\r\n                facilitate.</p>\r\n            <p>So by my humble definition a real cigar store is one where cigar smokers can both buy cigars and also sit\r\n                with\r\n                others and smoke them. Thankfully this isn\'t all that hard to find in Southern California. </p>\r\n            <p>A real cigar store has several characteristics:</p>\r\n            <ul>\r\n                <li>An establishment whose main business is selling cigars and tobacco pipes - in short - a\r\n                    tobacconist\r\n                </li>\r\n                <li>A walk-in humidor with a wide range of cigars.</li>\r\n                <li>A sales person who actually smokes cigars and is knowledgable about them.</li>\r\n                <li>A sales person who can carry on a conversation about the cigars in English.</li>\r\n                <li>A relaxing place where the cigars purchased there can be smoked.</li>\r\n                <li>Very little to none of the non-tobacco paraphernalia found in head shops and cheap cigarette stores.\r\n                    Paraphernalia\r\n                    such as "glass", vaporizers, vape juice and cigarettes by the case are not characteristic of a real\r\n                    cigar store.\r\n                </li>\r\n                <li>Friendly patrons are always a plus.</li>\r\n            </ul>\r\n            <p>Sure, you can buy cigars at convenience stores and large liquor stores. The experience however, is just\r\n                as impersonal as buying cigars online. There is a time and place for it but in those situations you are\r\n                participating\r\n                in a simple transaction. When you buy a cigar at a real cigar store you promote the ethic and\r\n                camaraderie of the\r\n                real cigar smoker.</p>\r\n            <h2>Thank God for California</h2>\r\n            <p>California is the only state on the west coast where one can buy a cigar and smoke it the same establishment.\r\n            </p>\r\n            <p>In Washington and Oregon the only exception to this is in Indian owned casinos.  Washington does make some\r\n            provision for outdoor smoking areas adjacent to cigar stores but the weather there is rarely conducive.</p>\r\n            <p>Every time I light up I think a little thanks for California.</p>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'}),define("pages/about/about",["text!./about.html"],function(e){return{viewModel:function(){},template:e}}),require(["app/startup"]),require.config({bundles:{}});